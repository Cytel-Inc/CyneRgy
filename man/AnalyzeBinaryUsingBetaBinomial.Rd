% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/AnalyzeBinaryUsingBetaBinomial.R
\name{AnalyzeBinaryUsingBetaBinomial}
\alias{AnalyzeBinaryUsingBetaBinomial}
\title{Analyze Binary Data Using Beta-Binomial Model}
\usage{
AnalyzeBinaryUsingBetaBinomial(
  SimData,
  DesignParam,
  LookInfo = NULL,
  UserParam = NULL
)
}
\arguments{
\item{SimData}{A data frame containing the data generated in the current simulation.}

\item{DesignParam}{A list of input parameters necessary to compute the test statistic and perform the test.
Variables should be accessed using names (e.g., \code{DesignParam$Alpha}).}

\item{LookInfo}{A list of input parameters related to multiple looks in group sequential designs.
Variables should be accessed by names (e.g., \code{LookInfo$NumLooks}). Important variables include:
\itemize{
\item \code{LookInfo$NumLooks}: Integer, number of looks in the study.
\item \code{LookInfo$CurrLookIndex}: Integer, current look index (starting from 1).
\item \code{LookInfo$CumEvents}: Vector, cumulative number of events at each look.
\item \code{LookInfo$RejType}: Code representing rejection types. Possible values include:
\item \strong{Efficacy Only:}
\itemize{
\item \code{0}: 1-Sided Efficacy Upper.
\item \code{2}: 1-Sided Efficacy Lower.
}
\item \strong{Futility Only:}
\itemize{
\item \code{1}: 1-Sided Futility Upper.
\item \code{3}: 1-Sided Futility Lower.
}
\item \strong{Efficacy and Futility:}
\itemize{
\item \code{4}: 1-Sided Efficacy Upper and Futility Lower.
\item \code{5}: 1-Sided Efficacy Lower and Futility Upper.
}
}}

\item{UserParam}{A list of user-defined parameters. Must contain the following named elements:
\describe{
\item{dAlphaCtrl}{Prior alpha parameter for control treatment (prior successes).}
\item{dBetaCtrl}{Prior beta parameter for control treatment (prior failures).}
\item{dAlphaExp}{Prior alpha parameter for experimental treatment (prior successes).}
\item{dBetaExp}{Prior beta parameter for experimental treatment (prior failures).}
\item{dUpperCutoffEfficacy}{Upper cutoff (0,1) for efficacy check. Above this value declares efficacy.}
\item{dLowerCutoffForFutility}{Lower cutoff (0,1) for futility check. Below this value declares futility.}
}
If not specified, a Beta(1, 1) prior is used for both control and experimental treatments.}
}
\value{
A list containing the following elements:
\describe{
\item{TestStat}{A double representing the computed test statistic.}
\item{Decision}{Required integer value indicating the decision made:
\describe{
\item{0}{No boundary crossed (neither efficacy nor futility).}
\item{1}{Lower efficacy boundary crossed.}
\item{2}{Upper efficacy boundary crossed.}
\item{3}{Futility boundary crossed.}
\item{4}{Equivalence boundary crossed.}
}}
\item{ErrorCode}{Optional integer value:
\describe{
\item{0}{No error.}
\item{> 0}{Non-fatal error; current simulation is aborted but subsequent simulations continue.}
\item{< 0}{Fatal error; no further simulations are attempted.}
}}
\item{Delta}{Estimated difference between experimental and control treatments.}
}
}
\description{
Perform analysis for efficacy using a Beta(\eqn{\alpha}, \eqn{\beta}) prior to compute the posterior probability that the experimental treatment is better than the control treatment care.
The analysis assumes a Bayesian model and uses posterior probabilities for decision-making:
\itemize{
\item \strong{Efficacy:} If \eqn{Pr(\pi_{Exp} > \pi_{Ctrl} | \text{data}) > \text{Upper Cutoff Efficacy}}, declare efficacy.
\item \strong{Futility:} If \eqn{Pr(\pi_{Exp} > \pi_{Ctrl} | \text{data}) < \text{Lower Cutoff Futility}}, declare futility.
\item At final analysis (FA): Declare efficacy or futility based on the posterior probability.
}

When simulating under the null case, setting \eqn{dLowerCutoffForFutility = 0} provides the false-positive rate for the non-binding futility rule.
Setting \eqn{dLowerCutoffForFutility > 0} provides the operating characteristics (OC) of the binding futility rule, as the rule is always followed.
}
