<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Childhood Anxiety Trial • CyneRgy</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Childhood Anxiety Trial">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CyneRgy</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-getting-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Getting Started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-getting-started">
<li><a class="dropdown-item" href="../articles/Overview.html">Overview</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Integration Specific Points</h6></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointInitialization.html">Initialization</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointAnalysis.html">Analysis (Test Statistic)</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointEnrollment.html">Enrollment (Arrival Times)</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointRandomization.html">Randomization (Assignment of Subjects)</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointResponse.html">Response (Patient Simulation)</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointDropout.html">Dropout</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointTreatmentSelection.html">Treatment Selection</a></li>
  </ul>
</li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples">
<li><a class="dropdown-item" href="../articles/ExampleOutline.html">Examples Outline</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Patient Simulation</h6></li>
    <li><a class="dropdown-item" href="../articles/2ArmNormalOutcomePatientSimulationDescription.html">2-Arm, Normal Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/2ArmTimeToEventOutcomePatientSimulationDescription.html">2-Arm, Time-to-Event Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/2ArmBinaryOutcomePatientSimulation.html">2-Arm, Binary Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/2ArmNormalRepeatedMeasuresResponseGeneration.html">2-Arm, Repeated Measure</a></li>
    <li><a class="dropdown-item" href="../articles/ChildhoodAnxiety.html">Childhood Anxiety Trial</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Analysis</h6></li>
    <li><a class="dropdown-item" href="../articles/2ArmNormalOutcomeAnalysisDescription.html">2-Arm, Normal Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/2ArmTimeToEventOutcomeAnalysisDescription.html">2-Arm, Time-To-Event Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/2ArmBinaryOutcomeAnalysisDescription.html">2-Arm, Binary Outcome</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Treatment Selection</h6></li>
    <li><a class="dropdown-item" href="../articles/TreatmentSelectionDescription.html">Binary Outcome</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced Examples</h6></li>
    <li><a class="dropdown-item" href="../articles/AssuranceConsecutiveStudies.html">Bayesian Assurance of Consecutive Studies</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Other Integration Points</h6></li>
    <li><a class="dropdown-item" href="../articles/GeneratePoissonArrival.html">Poisson Arrival Times</a></li>
    <li><a class="dropdown-item" href="../articles/PatientDropout.html">Patient Dropout</a></li>
    <li><a class="dropdown-item" href="../articles/PatientRandomization.html">Patient Randomization</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">References</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/ContibutingToCyneRgy.html">Contribute</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Cytel-Inc/CyneRgy"><span class="fa fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Childhood Anxiety Trial</h1>
                        <h4 data-toc-skip class="author">Audrey Wathen,
J. Kyle Wathen</h4>
            
            <h4 data-toc-skip class="date">April 25, 2025</h4>
      

      <div class="d-none name"><code>ChildhoodAnxiety.Rmd</code></div>
    </div>

    
    
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
These examples are related to the <strong>Integration Point: Response -
Continuous Outcome</strong>.
<a href="IntegrationPointResponseContinuous.html" class="alert-link">Click
here for more information about this integration point.</a>
</p>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>In this example, we cover the situation where the patient data
simulation (<em>response</em> endpoint) needs to be customized to match
what is expected in a clinical trial in childhood anxiety.</p>
<p>The primary outcome in this clinical trial is the change from
baseline to follow-up of the Child Health Utility 9D (CHU9D), which is a
health-related quality of life measure that assesses health status
across nine dimensions for children with anxiety. This example focuses
on developing an approach to simulate the patient data that is realistic
and understanding the impact on the power or the study. Each item in the
CHU9D is scored from 1 to 5 and the total of the scores on the 9
elements is the CHU9D. The higher the total value the lower the quality
of life. Thus, the CHU9D ranges from 9 to 45 and the difference between
baseline and follow-up must range between -36 and 36 with all values
being an integer value.</p>
<p>To try out this example, start by creating a new project on East
Horizon using the <strong>Two Arm Confirmatory</strong> study objective
and the <strong>Continuous</strong> endpoint, and then create an input
set using the <strong>Explore</strong> task.</p>
<p>Once CyneRgy is installed, you can load this example in RStudio with
the following commands:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">CyneRgy</span><span class="fu">::</span><span class="fu"><a href="../reference/RunExample.html">RunExample</a></span><span class="op">(</span> <span class="st">"ChildhoodAnxiety"</span> <span class="op">)</span></span></code></pre></div>
<p>Running the command above will load the RStudio project in
RStudio.</p>
<p><strong>RStudio Project File</strong>: <a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ChildhoodAnxiety/ChildhoodAnxiety.Rproj" class="external-link">ChildhoodAnxiety.Rproj</a></p>
<p>In this example, we first develop the necessary R code to simulate
the patient data as well as a script to call the function and plot
example data generated with the new function. In this example you will
find the following R files:</p>
<ol style="list-style-type: decimal">
<li>
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ChildhoodAnxiety/ChildPsychology.R" class="external-link">ChildPsychology.R</a>
- This file contains example code that call the patient simulation
function.</li>
<li>
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ChildhoodAnxiety/ChildPsychologyV2.R" class="external-link">ChildPsychologyV2.R</a>
- This file contains example code that call the updated patient
simulation function.</li>
<li>
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ChildhoodAnxiety/R/SimulatePatientOutcomeCHU9.R" class="external-link">SimulatePatientOutcomeCHU9.R</a>
- This file contains the R code for patient simulation. This version of
the file utilizes the UserParam variable in a way that required many
scenario cards to be setup in East Horizon Explore.<br>
</li>
<li>
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ChildhoodAnxiety/R/SimulatePatientOutcomeCHU9V2.R" class="external-link">SimulatePatientOutcomeCHU9V2.R</a>
- This file contains the R code for patient simulation. This version of
the function utilizes an improved approach to make better use of the
native East Horizon Explore parameters and <em>UserParam</em> to make
simulation setup much easier.</li>
</ol>
<p>This example demonstrates the importance of simulating patient data
that is comparable to what is expected when the trial is executed and
illustrates the impact this may have on the power of the study. In
addition, it provides some insight into an efficient approach for
utilizing the native parameters in East Horizon Explore and the
user-defined parameters that may be specified.</p>
<p>The figure below illustrates where this example fits within the R
integration points of Cytel products, accompanied by a flowchart
outlining the general steps performed by the R code.</p>
<p><img src="ChildhoodAnxiety_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="patient-simulation-function">Patient Simulation Function<a class="anchor" aria-label="anchor" href="#patient-simulation-function"></a>
</h2>
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This example is related to this R file:
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ChildhoodAnxiety/R/SimulatePatientOutcomeCHU9.R" class="external-link alert-link">SimulatePatientOutcomeCHU9.R</a>
</p>
</div>
<p>The first step is to create an R function for simulating patient
outcomes. In the <a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ChildhoodAnxiety/ChildPsychology.R" class="external-link">ChildPsychology.R</a>
file you will find example code that was used to test and call the
patient simulation function in <a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ChildhoodAnxiety/R/SimulatePatientOutcomeCHU9.R" class="external-link">SimulatePatientOutcomeCHU9.R</a>.</p>
<p>First, the script sets up the parameters for the simulation. From
East Horizon built-in inputs, it uses the number of subjects
(<em>NumSub</em>), the treatment each subject receives
(<em>TreatmentID</em>), and the mean and standard deviation for the two
treatments (<em>Mean</em> and <em>StdDev</em>). User-defined parameters
for the mean and standard deviation at follow-up for both the control
and experimental groups are also set. Refer to the table below for the
definitions of the user-defined parameters used in this example.</p>
<table class="table">
<colgroup>
<col width="33%">
<col width="66%">
</colgroup>
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Definition</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>dMeanFollowUpCtrl</strong></td>
<td>Mean at follow-up for the control group.</td>
</tr>
<tr class="even">
<td><strong>dMeanFollowUpExp</strong></td>
<td>Mean at follow-up for the experimental group.</td>
</tr>
<tr class="odd">
<td><strong>dStdDevFollowUpCtrl</strong></td>
<td>Standard deviation at follow-up for the control group.</td>
</tr>
<tr class="even">
<td><strong>dStdDevFollowUpExp</strong></td>
<td>Standard deviation at follow-up for the experimental group.</td>
</tr>
</tbody>
</table>
<p>See the <a href="#initial-r-code-developement">Initial R Code
Development</a> section for more information about the user
parameters.</p>
<p>The <em>SimulatePatientOutcome</em> function is then called with
these parameters, and the results are stored in a dataframe,
<em>dfPatientData</em>. The dataframe contains the <em>TreatmentID</em>
for each patient and the corresponding simulated patient outcome
response.</p>
<p>The script then checks the validity of the simulated data. It
verifies that the response values (which represent changes in CHU9D
scores) lie within the expected range (-36 to 36), and that the mean
responses for the control and experimental groups match the expected
values.</p>
<p>As an example, one simulated data set could look like the
following:</p>
<p><img src="ChildhoodAnxiety_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="simulation-results">Simulation Results<a class="anchor" aria-label="anchor" href="#simulation-results"></a>
</h2>
<p>In a clinical trial setting, the sample size and statistical power
are key determinants of the study’s ability to detect true treatment
effects. When we assume a sample size of 234 and a true difference of 5
under normal data distribution, the statistical power is 90%. This power
signifies that we have a 90% chance of detecting a true treatment
effect, if one exists. As shown in Figure 1, East Horizon Explore was
used to compute the power using simulations.</p>
<p><strong>Figure 1</strong>: Power assuming data is normally
distributed <img src="ChildhoodAnxiety_files/PowerUnderNormalAssumptions.jpg" alt="Figure 1: Power assuming data is normally distributed"></p>
<p>However, the power figure drops when we introduce a more realistic
patient simulation method. In this context, the statistical power drops
to approximately 85%. This decrease implies that, under these more
realistic conditions, we would have an 85% chance of detecting a true
treatment effect, given the same sample size of 234 and true treatment
difference of 5. See Figure 2.</p>
<p><strong>Figure 2</strong>: Power assuming realistic patient
simulation <img src="ChildhoodAnxiety_files/PowerWithRealisticSimulations.jpg" alt="Figure 2: Power assuming realistic patient simulation"></p>
<p>Knowing that a sample size of 234 is insufficient under realistic
conditions, it would be prudent to conduct further tests with larger
sample sizes. For instance, we could run simulations with sample sizes
ranging from 240 to 300, increasing in increments of 10. By examining
the resulting statistical power for each of these sample sizes utilizing
the realistic patient simulation, we could identify the smallest sample
size that brings us closest to a desired power of 90%. These simulations
were easily executed in East Horizon Explore and the results are
provided in Figure 3. From Figure 3, we can see that a sample size of
300 yields the desired 90% power. Thus, the trial should increase the
sample size from 234, the required sample size per standard sample size
calculations, to 300, the sample size needed under realistic patient
simulation.</p>
<p><strong>Figure 3</strong>: Sample size determination using realistic
patient simulation <img src="ChildhoodAnxiety_files/SampleSizeDeterminationWithRealisticPatientSimulation.jpg" alt="Figure 3: Sample size determination using realistic patient simulation"></p>
<p>If we were to proceed with the original sample size of 234 under
realistic conditions, our study would be under powered. Being under
powered means that our study would have a reduced likelihood of
identifying a significant treatment effect, even if one truly exists.
This could potentially lead to the erroneous conclusion that a
potentially effective treatment is ineffective, thereby missing an
opportunity for treatment advancement.</p>
<p>In summary, while a sample size of 234 yields a power of 90% under
normal data distribution, the power decreases to around 85% when we
implement a more realistic patient simulation. This highlights the
importance of considering realistic conditions when determining the
sample size for a study, to ensure adequate power to detect true
treatment effects.</p>
</div>
<div class="section level2">
<h2 id="initial-r-code-developement">Initial R Code Developement<a class="anchor" aria-label="anchor" href="#initial-r-code-developement"></a>
</h2>
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This example is related to this R file:
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ChildhoodAnxiety/R/SimulatePatientOutcomeCHU9.R" class="external-link alert-link">SimulatePatientOutcomeCHU9.R</a>
</p>
</div>
<p>The initial R code was developed assuming the user would supply
additional parameters as user-defined parameters via the
<em>UserParam</em> variable in the R section of East Horizon to supply
the follow-up mean for each treatment and the standard deviation for
each treatment arm, since these variables are not native inputs in East
Horizon. The <em>UserParam</em> is a list that holds user defined
parameters. These parameters are used to define the mean and standard
deviation of the follow-up scores for both the control group and
experimental group in the simulation. Specifically, the
<em>UserParam</em> list includes the following elements:</p>
<ul>
<li>
<strong>dMeanFollowUpCtrl</strong>: This parameter represents the
mean follow-up score for the control group. It is used to generate
simulated patient outcomes for individuals in the control group.</li>
<li>
<strong>dMeanFollowUpExp</strong>: This parameter signifies the mean
follow-up score for the experimental group. It is used to generate
simulated patient outcomes for individuals in the experimental
group.</li>
<li>
<strong>dStdDevFollowUpCtrl</strong>: This parameter denotes the
standard deviation of the follow-up scores for the control group. It
influences the spread of the simulated patient outcomes around the mean
for the control group.</li>
<li>
<strong>dStdDevFollowUpExp</strong>: This parameter indicates the
standard deviation of the follow-up scores for the experimental group.
It affects the spread of the simulated patient outcomes around the mean
for the experimental group.</li>
</ul>
<p>In the original version of the code, we had to manually create 12
different Response cards to represent the 12 distinct scenarios. This
was necessary because the <em>UserParam</em> argument in our function
was designed to accept only a single value for each variable. Refer to
the table below for the values of the user-defined parameters used in
the first card.</p>
<table class="table">
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>dMeanFollowUpCtrl</strong></td>
<td>20</td>
</tr>
<tr class="even">
<td><strong>dMeanFollowUpExp</strong></td>
<td>20</td>
</tr>
<tr class="odd">
<td><strong>dStdDevFollowUpCtrl</strong></td>
<td>10.6</td>
</tr>
<tr class="even">
<td><strong>dStdDevFollowUpExp</strong></td>
<td>10.6</td>
</tr>
</tbody>
</table>
<p>The second card has a <strong>dMeanFollowUpExp</strong> value of 19,
the third card has 18, and so on, down to 10. For all Response cards,
the built-in inputs of East Horizon are described in the table
below.</p>
<table class="table">
<thead><tr class="header">
<th><strong>East Horizon parameter</strong></th>
<th><strong>Name in the code</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>Mean Control</strong></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>e</mi><mi>a</mi><mi>n</mi><mrow><mo stretchy="true" form="prefix">[</mo><mn>0</mn><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">Mean [ 0 ]</annotation></semantics></math></td>
<td>20</td>
</tr>
<tr class="even">
<td><strong>Mean Treatment</strong></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>e</mi><mi>a</mi><mi>n</mi><mrow><mo stretchy="true" form="prefix">[</mo><mn>1</mn><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">Mean [ 1 ]</annotation></semantics></math></td>
<td>20</td>
</tr>
<tr class="odd">
<td><strong>SD Control</strong></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>t</mi><mi>d</mi><mi>D</mi><mi>e</mi><mi>v</mi><mrow><mo stretchy="true" form="prefix">[</mo><mn>0</mn><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">StdDev [ 0 ]</annotation></semantics></math></td>
<td>5</td>
</tr>
<tr class="even">
<td><strong>SD Treatment</strong></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>t</mi><mi>d</mi><mi>D</mi><mi>e</mi><mi>v</mi><mrow><mo stretchy="true" form="prefix">[</mo><mn>1</mn><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">StdDev [ 1 ]</annotation></semantics></math></td>
<td>5</td>
</tr>
</tbody>
</table>
<p>This approach, however, was not only labor-intensive but also
presented challenges in terms of data filtering. Specifically, it was
difficult to extract and display the desired information from these
scenarios. The process of setting up the scenarios and then filtering
the results to show what we wanted was cumbersome and inefficient. See
Figure 4 for the initial setup.</p>
<p><strong>Figure 4</strong>: Initial input in East Horizon <img src="ChildhoodAnxiety_files/Approach1.jpg" alt="East Horizion R code Development"></p>
</div>
<div class="section level2">
<h2 id="improved-r-code">Improved R Code<a class="anchor" aria-label="anchor" href="#improved-r-code"></a>
</h2>
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This example is related to this R file:
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ChildhoodAnxiety/R/SimulatePatientOutcomeCHU9V2.R" class="external-link alert-link">SimulatePatientOutcomeCHU9V2.R</a>
</p>
</div>
<p>To improve the process, we can use built-in parameters provided by
East Horizon, which support the ability to input multiple values for
each parameter on a single line (boxes with pink color). This
streamlines the process, making it easier to manage and adjust the
parameters. Unfortunately, the current <em>UserParam</em> list in our
script does not offer this capability.</p>
<p>Reflecting on this, it’s clear that the original structure of our
input during the development phase can significantly impact the ease of
design exploration. By considering the user experience and optimizing
for efficiency in the early stages of code development, it creates a
less cumbersome and more intuitive process. This approach would be
particularly beneficial when dealing with complex simulations or data
models, where the ability to easily adjust and experiment with different
parameters is crucial.</p>
<p>In light of this, we can change the patient simulation function to
utilize the <em>UserParam</em> in a slightly different way. This change
can enhance the flexibility and user-friendliness of our code, making
design input and exploration a smoother, more efficient process. The
major change is to use the <em>UserParam</em> to input the baseline
simulation information, since it stays constant for all scenarios, and
utilize the native input from East Horizon (<em>Mean Treatment</em> as
<em>0:10:1</em>) to input the follow-up information, as shown in Figure
5. This simple improvement allows the user to have just 1 input card and
simulate the same scenarios as previously done with 10 cards. This also
makes the native filters and other aspects of East Horizon easier to
use.</p>
<p><strong>Figure 5</strong>: Updated input in East Horizon <img src="ChildhoodAnxiety_files/Approach2Input.jpg" alt="East Horizon Improved R code"></p>
<p>Refer to the table below for the values of the user-defined
parameters used in this improved example.</p>
<table class="table">
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>dMeanBaselineCtrl</strong></td>
<td>20</td>
</tr>
<tr class="even">
<td><strong>dMeanBaselineExp</strong></td>
<td>20</td>
</tr>
<tr class="odd">
<td><strong>dStdDevBaselineCtrl</strong></td>
<td>5</td>
</tr>
<tr class="even">
<td><strong>dStdDevBaselineExp</strong></td>
<td>5</td>
</tr>
</tbody>
</table>
<p>For this example, the built-in inputs of East Horizon are described
in the table below.</p>
<table class="table">
<thead><tr class="header">
<th><strong>East Horizon parameter</strong></th>
<th><strong>Name in the code</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>Mean Control</strong></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>e</mi><mi>a</mi><mi>n</mi><mrow><mo stretchy="true" form="prefix">[</mo><mn>0</mn><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">Mean [ 0 ]</annotation></semantics></math></td>
<td>0</td>
</tr>
<tr class="even">
<td><strong>Mean Treatment</strong></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>e</mi><mi>a</mi><mi>n</mi><mrow><mo stretchy="true" form="prefix">[</mo><mn>1</mn><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">Mean [ 1 ]</annotation></semantics></math></td>
<td>0:10:1</td>
</tr>
<tr class="odd">
<td><strong>SD Control</strong></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>t</mi><mi>d</mi><mi>D</mi><mi>e</mi><mi>v</mi><mrow><mo stretchy="true" form="prefix">[</mo><mn>0</mn><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">StdDev [ 0 ]</annotation></semantics></math></td>
<td>10.6</td>
</tr>
<tr class="even">
<td><strong>SD Treatment</strong></td>
<td><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>t</mi><mi>d</mi><mi>D</mi><mi>e</mi><mi>v</mi><mrow><mo stretchy="true" form="prefix">[</mo><mn>1</mn><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">StdDev [ 1 ]</annotation></semantics></math></td>
<td>10.6</td>
</tr>
</tbody>
</table>
<p><em>0:10:1</em> means 0 to 10 with increments of 1.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by J. Kyle Wathen, Valeria A. G. Mazzanti.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
