<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="CyneRgy">
<title>2 Arm Normal Outcome Patient Simulation â€¢ CyneRgy</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="2 Arm Normal Outcome Patient Simulation">
<meta property="og:description" content="CyneRgy">
<meta property="og:image" content="https://Cytel-Inc.github.io/CyneRgy/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">CyneRgy</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">Home</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-examples">Examples</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-examples">
    <a class="dropdown-item" href="../articles/ExampleOutline.html">Example List</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Patient Simulation</h6>
    <a class="dropdown-item" href="../articles/2ArmNormalOutcomePatientSimulationDescription.html">2-Arm, Normal Outcome</a>
    <a class="dropdown-item" href="../articles/2ArmTimeToEventOutcomePatientSimulationDescription.html">2-Arm, Time-to-Event Outcome</a>
    <a class="dropdown-item" href="../articles/2ArmBinaryOutcomePatientSimulation.html">2-Arm, Binary Outcome</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Analysis</h6>
    <a class="dropdown-item" href="../articles/2ArmNormalOutcomeAnalysisDescription.html">2-Arm, Normal Outcome</a>
    <a class="dropdown-item" href="../articles/2ArmTimeToEventOutcomeAnalysisDescription.html">2-Arm, Time-To-Event Outcome</a>
    <a class="dropdown-item" href="../articles/2ArmBinaryOutcomeAnalysisDescription.html">2-Arm, Binary</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Treatment Selection</h6>
    <a class="dropdown-item" href="../articles/TreatmentSelectionDescription.html">Binary Outcome</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Advanced Examples</h6>
    <a class="dropdown-item" href="../articles/AssurnaceConsecutiveStudies.html">Bayesian Assurance of Consecutive Studies</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Other Integration Points</h6>
    <a class="dropdown-item" href="../articles/GeneratePoissonArrival.html">Poisson Arrival Times</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">References</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/ContibutingToCyneRgy.html">Contribute</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Cytel-Inc/CyneRgy">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>2 Arm Normal Outcome Patient Simulation</h1>
                        <h4 data-toc-skip class="author">J. Kyle
Wathen</h4>
            
            <h4 data-toc-skip class="date">May 07, 2024</h4>
      
      
      <div class="d-none name"><code>2ArmNormalOutcomePatientSimulationDescription.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="two-arm-normal-outcome---patient-outcome-simulation-examples">Two Arm, Normal Outcome - Patient Outcome Simulation Examples<a class="anchor" aria-label="anchor" href="#two-arm-normal-outcome---patient-outcome-simulation-examples"></a>
</h2>
<p>The following examples demonstrate how to add new patient outcome
simulation capabilities into East using an R function in the context of
a two-arm trial with a normally distributed patient outcome. For all
examples, we assume the trial design consists of standard of care and an
experimental treatment and the trial design assumes patient outcomes are
normally distributed.</p>
<p>Once CyneRgy is installed, you can load this example in R Studio with
the following commands:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">CyneRgy</span><span class="fu">::</span><span class="fu"><a href="../reference/RunExample.html">RunExample</a></span><span class="op">(</span> <span class="st">"2ArmNormalOutcomePatientSimulation"</span> <span class="op">)</span></span></code></pre></div>
<p>Running the command above will load the R Studio project in R
Studio.</p>
<p><strong>East Workbook</strong>:
2ArmNormalOutcomePatientSimulation.cywx</p>
<p><strong>R Studio Project File</strong>:
2ArmNormalOutcomePatientSimulation.Rproj.</p>
<p>In the RCode directory of this example you will find the following R
files:</p>
<ol style="list-style-type: decimal">
<li><p>SimulatePatientOutcomePercentAtZero.R - This file provides an
example R function to simulate patient data from a mixture distribution
where a proportion of patients have a null response. The code in Example
1 can be used when the proportion of patients with null response is a
fixed value.</p></li>
<li><p>SimulatePatientOutcomePercentAtZeroBetaDist.R - This file
provides an example R function to simulate patient data from a mixture
distribution where a proportion of patients have a null response. This
approach assumes that the probability of null response is unknown and
must first be drawn from a Beta distribution.</p></li>
<li><p>SimulatePatientOutcomeTemplate.R - This file provides a template
that may be used as a starting point for adding a new patient
simulator.</p></li>
<li><p>TestingAndExploration.R - This file provides an example of
loading East output and calling the R functions in in Example 1 from
within R. The intent of this file is to help users call and test the the
function in Example 1.</p></li>
</ol>
<p>In addition, if you would like to experiment with these examples
without looking at the complete solution, you can find
fill-in-the-blank-type code files in the FillInTheBlankRCode
directory.</p>
<div class="section level3">
<h3 id="example-1---simulation-of-patient-normal-data-from-a-mixture-distribution">Example 1 - Simulation of Patient Normal Data from a Mixture
Distribution<a class="anchor" aria-label="anchor" href="#example-1---simulation-of-patient-normal-data-from-a-mixture-distribution"></a>
</h3>
<p>In this example, the patient outcome is change from baseline.
However, there is an unknown proportion of patients that will not
respond to treatment, and thus, have a change from baseline of 0, a
non-responder. Using historical data, it is estimated that the
proportion of patients that will not respond to treatment is between 20%
and 40%. In this example, an R function is provided to help explore the
proportion of patients that do not respond and the impact on expected
study power. The function used for this example is
SimulatePatientOutcomePercentAtZero and can be found in
RCode/SimulatePatientOutcomePercentAtZero.R. The required User Specified
parameters are the probability a patient is a non-responder for each
arm, specifically, dProbOfZeroOutcomeCtrl and dProbOfZeroOutcomeExp.</p>
<ol style="list-style-type: decimal">
<li><p>Example 1.1 - Assume that all patients will respond to treatment.
A binomial distribution is utilized to simulate if the patient is a
non-responder or a responder. If the patient is a responder, then their
outcome is simulated from a normal distribution with the mean and
standard deviation provided in East and sent to R. For this example, the
required parameters are the probability a patient is a non-responder for
each arm, specifically, dProbOfZeroOutcomeCtrl = 0.0 and
dProbOfZeroOutcomeExp = 0.0. This example is included to demonstrate
using an R function if the data is simulated as it is in East without
the use of an R function.</p></li>
<li><p>Example 1.2 - This function assumes that 20% of patients, on
average, will not respond to treatment. A binomial distribution is
utilized to simulate if the patient is a non-responder. If the patient
is a responder, then their outcome is simulated from a normal
distribution with the mean and standard deviation provided in East and
sent to R. For this example, the required parameters are the probability
a patient is a non-responder for each arm, specifically,
dProbOfZeroOutcomeCtrl = 0.2 and dProbOfZeroOutcomeExp = 0.2.</p></li>
<li><p>Example 1.3 - This example is similar to the previous example,
however, this function assumes that 40% of patients, on average, will
not respond to treatment. For this example, the required parameters are
the probability a patient is a non-responder for each arm, specifically,
dProbOfZeroOutcomeCtrl = 0.4 and dProbOfZeroOutcomeExp = 0.4.</p></li>
</ol>
</div>
<div class="section level3">
<h3 id="example-2---simulation-of-patient-normal-data-from-a-mixture-distribution-with-mixture-percent-sampled-from-a-beta-distribution">Example 2 - Simulation of Patient Normal Data from a Mixture
Distribution with Mixture Percent Sampled from a Beta Distribution<a class="anchor" aria-label="anchor" href="#example-2---simulation-of-patient-normal-data-from-a-mixture-distribution-with-mixture-percent-sampled-from-a-beta-distribution"></a>
</h3>
<p>This function assumes that the probability that a patient is a
non-responder is random and follows a Beta distribution. The intent of
this option is to incorporate the variability in the unknown probability
of null response. In addition, the provided function allows for a
different Beta distribution for each treatment, which may be used to
understand how a treatment that reduces the likelihood of a null
response would perform in the trial. The function used for this example
is SimulatePatientOutcomePercentAtZeroBetaDist and can be found in
RCode/SimulatePatientOutcomePercentAtZeroBetaDist.R. The required user
Specified parameters are the prior parameters for each treatment,
specifically, 1) dCtrlBetaParam1, 2) dCtrlBetaParam2, 3) dExpBetaParam1,
4) dExpBetaParam2.</p>
<ol style="list-style-type: decimal">
<li><p>Example 2.1 For this example, independent Beta( 23.1, 55.2 ) are
utilized, which have a 95% credible interval of (0.2, 0.4). This
function first simulates the probability of no response from the Beta
distribution for control and experimental arms, then uses the simulated
probability to simulate the proportion of patients with a null response.
In this example, it is assumed that the two probabilities are sampled
from the same distribution but are not identical in a given simulation.
The R code could easily be adapted to accomplish this. In East, you will
need to add variables that are sent to R. For this example, the variable
input screen in East would look like <img src="Example2_1Variables.png" alt="Example Input Parameters"></p></li>
<li><p>Example 2.2 - For this example, the treatment reduces the
probability of null response by 10%, on average, when compared to
control. In particular, assume the probability of null response follows
a Beta( 23.1, 55.2 ) which has a 95% credible interval of (0.2, 0.4).
For experimental treatment assume the probability of no response follows
a Beta ( 10.8, 46.3 ) which has a 95% credible interval of (0.1, 0.3).
In East, you will need to add variables that are sent to R. For this
example, the variable input screen in East would look like <img src="Example2_2Variables.png" alt="Example Input Parameters"></p></li>
</ol>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by J. Kyle Wathen, Valeria A. G. Mazzanti, Sydney Ringold.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
