<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>2-Arm, Normal Outcome - Patient Simulation â€¢ CyneRgy</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="2-Arm, Normal Outcome - Patient Simulation">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CyneRgy</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-getting-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Getting Started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-getting-started">
<li><a class="dropdown-item" href="../articles/Overview.html">Overview</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Integration Specific Points</h6></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointInitialization.html">Initialization</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointAnalysis.html">Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointEnrollment.html">Enrollment</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointRandomization.html">Randomization</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointResponse.html">Response</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointDropout.html">Dropout</a></li>
  </ul>
</li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples">
<li><a class="dropdown-item" href="../articles/ExampleOutline.html">Example List</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Patient Simulation</h6></li>
    <li><a class="dropdown-item" href="../articles/2ArmNormalOutcomePatientSimulationDescription.html">2-Arm, Normal Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/2ArmTimeToEventOutcomePatientSimulationDescription.html">2-Arm, Time-to-Event Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/2ArmBinaryOutcomePatientSimulation.html">2-Arm, Binary Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/2ArmNormalRepeatedMeasuresResponseGeneration.html">2-Arm, Repeated Measure</a></li>
    <li><a class="dropdown-item" href="../articles/ChildhoodAnxiety.html">Childhood Anxiety Trial</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Analysis</h6></li>
    <li><a class="dropdown-item" href="../articles/2ArmNormalOutcomeAnalysisDescription.html">2-Arm, Normal Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/2ArmTimeToEventOutcomeAnalysisDescription.html">2-Arm, Time-To-Event Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/2ArmBinaryOutcomeAnalysisDescription.html">2-Arm, Binary Outcome</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Treatment Selection</h6></li>
    <li><a class="dropdown-item" href="../articles/TreatmentSelectionDescription.html">Binary Outcome</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced Examples</h6></li>
    <li><a class="dropdown-item" href="../articles/AssuranceConsecutiveStudies.html">Bayesian Assurance of Consecutive Studies</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Other Integration Points</h6></li>
    <li><a class="dropdown-item" href="../articles/GeneratePoissonArrival.html">Poisson Arrival Times</a></li>
    <li><a class="dropdown-item" href="../articles/PatientDropout.html">Patient Dropout</a></li>
    <li><a class="dropdown-item" href="../articles/PatientRandomization.html">Patient Randomization</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">References</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/ContibutingToCyneRgy.html">Contribute</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Cytel-Inc/CyneRgy"><span class="fa fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>2-Arm, Normal Outcome - Patient Simulation</h1>
                        <h4 data-toc-skip class="author">J. Kyle
Wathen</h4>
            
            <h4 data-toc-skip class="date">December 13, 2024</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Cytel-Inc/CyneRgy/blob/HEAD/vignettes/2ArmNormalOutcomePatientSimulationDescription.Rmd" class="external-link"><code>vignettes/2ArmNormalOutcomePatientSimulationDescription.Rmd</code></a></small>
      <div class="d-none name"><code>2ArmNormalOutcomePatientSimulationDescription.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The following examples demonstrate how to add new patient outcome
simulation capabilities into East using R functions in the context of a
two-arm trial with a normally distributed patient outcome. For all
examples, we assume the trial design consists of standard of care and an
experimental treatment and the trial design assumes patient outcomes are
normally distributed.</p>
<p>Once CyneRgy is installed, you can load this example in RStudio with
the following commands:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">CyneRgy</span><span class="fu">::</span><span class="fu"><a href="../reference/RunExample.html">RunExample</a></span><span class="op">(</span> <span class="st">"2ArmNormalOutcomePatientSimulation"</span> <span class="op">)</span></span></code></pre></div>
<p>Running the command above will load the RStudio project in
RStudio.</p>
<p><strong>East Workbook</strong>: <a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmNormalOutcomePatientSimulation/2ArmNormalOutcomePatientSimulation.Rproj" class="external-link">2ArmNormalOutcomePatientSimulation.cywx</a></p>
<p><strong>RStudio Project File</strong>: <a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmNormalOutcomePatientSimulation/2ArmNormalOutcomePatientSimulation.Rproj" class="external-link">2ArmNormalOutcomePatientSimulation.Rproj</a></p>
<p>In the <a href="https://github.com/Cytel-Inc/CyneRgy/tree/main/inst/Examples/2ArmNormalOutcomePatientSimulation/RCode" class="external-link">RCode
directory of this example</a> you will find the following R files:</p>
<ol style="list-style-type: decimal">
<li><p><a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmNormalOutcomePatientSimulation/RCode/SimulatePatientOutcomePercentAtZero.R" class="external-link">SimulatePatientOutcomePercentAtZero.R</a>
- This file provides an example R function to simulate patient data from
a mixture distribution where a proportion of patients have a null
response. The code in Example 1 can be used when the proportion of
patients with null response is a fixed value.</p></li>
<li><p><a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmNormalOutcomePatientSimulation/RCode/SimulatePatientOutcomePercentAtZeroBetaDist.R" class="external-link">SimulatePatientOutcomePercentAtZeroBetaDist.R</a>
- This file provides an example R function to simulate patient data from
a mixture distribution where a proportion of patients have a null
response. This approach assumes that the probability of null response is
unknown and must first be drawn from a Beta distribution.</p></li>
<li><p><a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmNormalOutcomePatientSimulation/RCode/TestingAndExploration.R" class="external-link">TestingAndExploration.R</a>
- This file provides an example of loading East output and calling the R
functions in in Example 1 from within R. The intent of this file is to
help users call and test the function in Example 1.</p></li>
</ol>
<p>In addition, if you would like to experiment with these examples
without looking at the complete solution, you can find
fill-in-the-blank-type code files in the <a href="https://github.com/Cytel-Inc/CyneRgy/tree/main/inst/Examples/2ArmNormalOutcomePatientSimulation/FillInTheBlankRCode" class="external-link">FillInTheBlankRCode
directory</a>.</p>
</div>
<div class="section level2">
<h2 id="example-1---simulation-of-patient-normal-data-from-a-mixture-distribution">Example 1 - Simulation of Patient Normal Data from a Mixture
Distribution<a class="anchor" aria-label="anchor" href="#example-1---simulation-of-patient-normal-data-from-a-mixture-distribution"></a>
</h2>
<p>In this example, the patient outcome is change from baseline.
However, there is an unknown proportion of patients that will not
respond to treatment, and thus, have a change from baseline of 0, a
non-responder. Using historical data, it is estimated that the
proportion of patients that will not respond to treatment is between 20%
and 40%. In this example, an R function is provided to help explore the
proportion of patients that do not respond and the impact on expected
study power. The function used for this example is
SimulatePatientOutcomePercentAtZero. The required user-specified
parameters are the probability a patient is a non-responder for each
arm, specifically, dProbOfZeroOutcomeCtrl and dProbOfZeroOutcomeExp.</p>
<ol style="list-style-type: decimal">
<li><p>Example 1.1 - Assume that all patients will respond to treatment.
A binomial distribution is utilized to simulate if the patient is a
non-responder or a responder. If the patient is a responder, then their
outcome is simulated from a normal distribution with the mean and
standard deviation provided in East and sent to R. For this example, the
required parameters are the probability a patient is a non-responder for
each arm, specifically, dProbOfZeroOutcomeCtrl = 0.0 and
dProbOfZeroOutcomeExp = 0.0. This example is included to demonstrate
using an R function if the data is simulated as it is in East without
the use of an R function.</p></li>
<li><p>Example 1.2 - This function assumes that 20% of patients, on
average, will not respond to treatment. A binomial distribution is
utilized to simulate if the patient is a non-responder. If the patient
is a responder, then their outcome is simulated from a normal
distribution with the mean and standard deviation provided in East and
sent to R. For this example, the required parameters are the probability
a patient is a non-responder for each arm, specifically,
dProbOfZeroOutcomeCtrl = 0.2 and dProbOfZeroOutcomeExp = 0.2.</p></li>
<li><p>Example 1.3 - This example is similar to the previous example,
however, this function assumes that 40% of patients, on average, will
not respond to treatment. For this example, the required parameters are
the probability a patient is a non-responder for each arm, specifically,
dProbOfZeroOutcomeCtrl = 0.4 and dProbOfZeroOutcomeExp = 0.4.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="example-2---simulation-of-patient-normal-data-from-a-mixture-distribution-with-mixture-percent-sampled-from-a-beta-distribution">Example 2 - Simulation of Patient Normal Data from a Mixture
Distribution with Mixture Percent Sampled from a Beta Distribution<a class="anchor" aria-label="anchor" href="#example-2---simulation-of-patient-normal-data-from-a-mixture-distribution-with-mixture-percent-sampled-from-a-beta-distribution"></a>
</h2>
<p>This function assumes that the probability that a patient is a
non-responder is random and follows a Beta distribution. The intent of
this option is to incorporate the variability in the unknown probability
of null response. In addition, the provided function allows for a
different Beta distribution for each treatment, which may be used to
understand how a treatment that reduces the likelihood of a null
response would perform in the trial. The function used for this example
is SimulatePatientOutcomePercentAtZeroBetaDist. The required
user-specified parameters are the prior parameters for each treatment,
specifically, 1) dCtrlBetaParam1, 2) dCtrlBetaParam2, 3) dExpBetaParam1,
4) dExpBetaParam2.</p>
<ol style="list-style-type: decimal">
<li><p>Example 2.1 For this example, independent Beta( 23.1, 55.2 ) are
utilized, which have a 95% credible interval of (0.2, 0.4). This
function first simulates the probability of no response from Beta
distributions for the control and experimental arms, then uses the
simulated probability to simulate the proportion of patients with a null
response. In this example, it is assumed that the two probabilities are
sampled from the same distribution but are not identical in a given
simulation. The R code could easily be adapted to accomplish this. In
East, you will need to add variables that are sent to R. For this
example, the variable input screen in East would look like: <img src="Example2_1Variables.png" alt="Example Input Parameters"></p></li>
<li><p>Example 2.2 - For this example, the treatment reduces the
probability of null response by 10%, on average, when compared to
control. In particular, assume the probability of null response follows
a Beta( 23.1, 55.2 ) which has a 95% credible interval of (0.2, 0.4).
For experimental treatment assume the probability of no response follows
a Beta ( 10.8, 46.3 ) which has a 95% credible interval of (0.1, 0.3).
In East, you will need to add variables that are sent to R. For this
example, the variable input screen in East would look like: <img src="Example2_2Variables.png" alt="Example Input Parameters"></p></li>
</ol>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by J. Kyle Wathen, Valeria A. G. Mazzanti.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
