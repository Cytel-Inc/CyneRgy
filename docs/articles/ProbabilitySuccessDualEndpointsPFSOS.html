<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Probability of Success for Dual Endpoints (PFS &amp; OS) • CyneRgy</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Probability of Success for Dual Endpoints (PFS &amp; OS)">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CyneRgy</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-getting-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Getting Started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-getting-started">
<li><a class="dropdown-item" href="../articles/Overview.html">Overview</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Integration Specific Points</h6></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointInitialization.html">Initialization</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointAnalysis.html">Analysis (Test Statistic)</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointEnrollment.html">Enrollment (Arrival Times)</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointRandomization.html">Randomization (Assignment of Subjects)</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointResponse.html">Response (Patient Simulation)</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointDropout.html">Dropout</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointTreatmentSelection.html">Treatment Selection</a></li>
  </ul>
</li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples">
<li><a class="dropdown-item" href="../articles/ExampleOutline.html">Examples Outline</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Patient Simulation</h6></li>
    <li><a class="dropdown-item" href="../articles/2ArmNormalOutcomePatientSimulationDescription.html">2-Arm, Normal Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/2ArmTimeToEventOutcomePatientSimulationDescription.html">2-Arm, Time-to-Event Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/2ArmBinaryOutcomePatientSimulation.html">2-Arm, Binary Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/2ArmNormalRepeatedMeasuresResponseGeneration.html">2-Arm, Repeated Measure</a></li>
    <li><a class="dropdown-item" href="../articles/ChildhoodAnxiety.html">Childhood Anxiety Trial</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Analysis</h6></li>
    <li><a class="dropdown-item" href="../articles/2ArmNormalOutcomeAnalysisDescription.html">2-Arm, Normal Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/2ArmTimeToEventOutcomeAnalysisDescription.html">2-Arm, Time-To-Event Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/2ArmBinaryOutcomeAnalysisDescription.html">2-Arm, Binary Outcome</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Treatment Selection</h6></li>
    <li><a class="dropdown-item" href="../articles/TreatmentSelectionDescription.html">Binary Outcome</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced Examples</h6></li>
    <li><a class="dropdown-item" href="../articles/AssuranceConsecutiveStudies.html">Bayesian Assurance of Consecutive Studies</a></li>
    <li><a class="dropdown-item" href="../articles/ProbabilitySuccessDualEndpointsPFSOS.html">Probability of Success for Dual Endpoints (PFS &amp; OS)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Other Integration Points</h6></li>
    <li><a class="dropdown-item" href="../articles/GeneratePoissonArrival.html">Poisson Arrival Times</a></li>
    <li><a class="dropdown-item" href="../articles/PatientDropout.html">Patient Dropout</a></li>
    <li><a class="dropdown-item" href="../articles/PatientRandomization.html">Patient Randomization</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">References</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/ContibutingToCyneRgy.html">Contribute</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Cytel-Inc/CyneRgy"><span class="fa fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Probability of Success for Dual Endpoints (PFS &amp; OS)</h1>
                        <h4 data-toc-skip class="author">Gabriel Potvin,
Valeria A. G. Mazzanti, J. Kyle Wathen</h4>
            
            <h4 data-toc-skip class="date">May 15, 2025</h4>
      

      <div class="d-none name"><code>ProbabilitySuccessDualEndpointsPFSOS.Rmd</code></div>
    </div>

    
    
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
The following scripts are related to both the
<a href="IntegrationPointResponse.html" class="alert-link"><strong>Integration
Point: Response</strong></a> and the
<a href="IntegrationPointAnalysis.html" class="alert-link"><strong>Integration
Point: Analysis</strong></a>. Click on the links for more information
about these integration points.
</p>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This example demonstrates how to compute the probability of success
of a clinical trial by extending East Horizon’s single-endpoint
framework to handle dual endpoints using custom R scripts for the
<strong>Response (Patient Simulation)</strong> and the
<strong>Analysis</strong> integration points. This example uses
Progression Free Survival and Overall Survival as endpoints, however,
this could be extended to other types of endpoints by modifying the R
code.</p>
<div class="section level3">
<h3 id="why-do-we-need-r-integration-for-this-example">Why do we need R Integration for this example?<a class="anchor" aria-label="anchor" href="#why-do-we-need-r-integration-for-this-example"></a>
</h3>
<p>To compute the Probability of Success of a trial, users need to
simulate patient outcomes by sampling the true rates from prior
distributions. This is something that East Horizon cannot handle yet
with its current response generation algorithms, so we must integrate a
custom R file for the simulation to do so.</p>
<p>When a trial involves multiple success criteria, users must change
how “Success” is defined from a traditional success analysis with only
one endpoint. East Horizon cannot handle multiple success criteria for a
Winning Condition yet, so we must integrate a custom R file for the
simulation to take into account changing success criteria from the
traditional “statistically significant” criteria.</p>
</div>
<div class="section level3">
<h3 id="what-do-the-r-functions-do">What do the R functions do?<a class="anchor" aria-label="anchor" href="#what-do-the-r-functions-do"></a>
</h3>
<p>In the <a href="https://github.com/Cytel-Inc/CyneRgy/tree/main/inst/Examples/ProbabilitySuccessDualEndpointsPFSOS/R" class="external-link">R
directory of this example</a> you will find the following R files:</p>
<ul>
<li>
<p><strong><a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ProbabilitySuccessDualEndpointsPFSOS/R/Simulate2EndpointTTEWithMultiState.R" class="external-link">Simulate2EndpointTTEWithMultiState.R</a></strong></p>
<p>This R file contains a function that executes the response data
generation for both PFS and OS endpoints. Due to the typically assumed
correlation between PFS and OS, the timing of the events for each
simulated patient must take into account that these endpoints are not
completely independent of each other. This function therefore handles
this concern by using a multi-state model that takes into
consideration:</p>
<ol style="list-style-type: decimal">
<li>The rate at which events occur from trial start to a progression
event,</li>
<li>The rate at which events occur from trial start to a death, and</li>
<li>The probability that death takes place before a progression
event.<br><br>
</li>
</ol>
<p>As there may be uncertainty around each of these assumed parameters,
the function simulates each of them based on prior distributions rather
than single values for each. Users must provide input assumptions that
parametrize the prior distributions that will be sampled from to
simulate each patient’s response times.</p>
<p>For more information on this function, see the <a href="#response-patient-simulation-integration-point">Response (Patient
Simulation) Integration Point</a> section below.</p>
</li>
<li>
<p><strong><a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ProbabilitySuccessDualEndpointsPFSOS/R/AnalyzePFSAndOS.R" class="external-link">AnalyzePFSAndOS.R</a></strong></p>
<p>This R file contains a function that executes the interim and final
analyses of each simulated trial. The function takes into account that
both PFS and OS event time stamps are being generated. The function
computes the probability of success of the trial, where success is
defined as:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Statistical significance for PFS</strong>: PFS data and
frequentist analysis using a Logrank test statistic proves that the
difference between the control and treatment arms is proven to be
statistically significant.</li>
<li>
<strong>Positive trend observed for OS</strong>: OS data shows a
positive trend in the difference between the control and treatment arms
– the positive trend is defined by a user-specified threshold for the
Hazard Ratio observation.<br><br>
</li>
</ol>
<p><em>The success criteria can be changed to compute the probability of
success for varying success criteria. The lines in the code that need to
be modified are line 170 for interim analyses and line 193 for final
analysis.</em></p>
<p>For more information on this function, see the <a href="#analysis-integration-point">Analysis Integration Point</a>
section below.</p>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="combining-it-all-together">Combining it all together…<a class="anchor" aria-label="anchor" href="#combining-it-all-together"></a>
</h3>
<p>The figure below illustrates where this example fits within the R
integration points of Cytel products, accompanied by flowcharts
outlining the general steps performed by the R code.</p>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>By combining the above R functions with the East Horizon native
inputs, users are able to simulate and compute the probability of
success of each simulated trial. Users will also continue to benefit
from East Horizon’s output visualizations – with the caveat that the
Probability of Success metric will be labeled as “Power” in the native
outputs of East Horizon.</p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="step-by-step-instructions">Step-by-Step Instructions<a class="anchor" aria-label="anchor" href="#step-by-step-instructions"></a>
</h2>
<p>Before starting, make sure you have the required tools and files.</p>
<ol style="list-style-type: decimal">
<li><a href="https://platform.cytel.com" class="external-link">East Horizon</a></li>
<li>Download R Files from our public github repo: <a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ProbabilitySuccessDualEndpointsPFSOS/R/Simulate2EndpointTTEWithMultiState.R" class="external-link">Simulate2EndpointTTEWithMultiState.R</a>
and <a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ProbabilitySuccessDualEndpointsPFSOS/R/AnalyzePFSAndOS.R" class="external-link">AnalyzePFSAndOS.R</a>.</li>
</ol>
<div class="section level3">
<h3 id="new-project-page">New Project Page<a class="anchor" aria-label="anchor" href="#new-project-page"></a>
</h3>
<ol style="list-style-type: decimal">
<li>On East Horizon, create a new project with a single endpoint.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step1.png" width="800"></p>
</div>
<div class="section level3">
<h3 id="new-input-set-page">New Input Set Page<a class="anchor" aria-label="anchor" href="#new-input-set-page"></a>
</h3>
<ol start="2" style="list-style-type: decimal">
<li>Navigate to the Inputs tab, and create a new input set using the
Explore task.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step2.png" width="800"></p>
</div>
<div class="section level3">
<h3 id="design-page">Design Page<a class="anchor" aria-label="anchor" href="#design-page"></a>
</h3>
<ol start="3" style="list-style-type: decimal">
<li>Click on the input set you just created, then select “User Specified
– R” in the Test Statistic field.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step3.png" width="800"></p>
<ol start="4" style="list-style-type: decimal">
<li>Click the “+” icon to open the R Integration pop-up window.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step4.png" width="800"></p>
<ol start="5" style="list-style-type: decimal">
<li>Click on “Select File” and then on “Continue”.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step5.png" width="800"></p>
<ol start="6" style="list-style-type: decimal">
<li>Select the file “AnalyzePFSAndOS.R”.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step6.png" width="800"></p>
<ol start="7" style="list-style-type: decimal">
<li>Check that the correct file has been imported and the correct
Function Name has been specified by the system.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step7.png" width="800"></p>
<ol start="8" style="list-style-type: decimal">
<li>Note that the User Parameter variables have been automatically
pulled from the R function that was imported. Specify the values for
each of these variables.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step8.png" width="800"></p>
<p>These variables are the thresholds for the Hazard Ratio for Overall
Survival to be considered “TRENDING” for the trial’s second success
criteria. Users must specify a threshold for the interim analysis, if
using a group sequential design, and always for the final analysis. See
the <a href="#analysis-integration-point">Analysis Integration Point</a>
section below for more information about these variables and example
values.</p>
<p><em>Note: We typically make success criteria more CONSERVATIVE
(i.e. making it more difficult to declare a “win”) on a trending OS at
the interim analysis compared to the final analysis because you want to
be “more sure” of your decision when you have less evidence/data
available at the time of decision.</em></p>
<ol start="9" style="list-style-type: decimal">
<li>Click on the “Save” button to exit the R Integration details
window.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step9.png" width="800"></p>
</div>
<div class="section level3">
<h3 id="response-page">Response Page<a class="anchor" aria-label="anchor" href="#response-page"></a>
</h3>
<ol start="10" style="list-style-type: decimal">
<li>Start with identifying:</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>Median time to PFS for Control arm &amp; Variance.</li>
<li>Median time to PFS for Experimental arm (this can be computed using
above parameter and an assumed Hazard Ratio) &amp; Variance.</li>
<li>Median time to OS for Control arm &amp; Variance.</li>
<li>Median time to OS for Experimental arm (this can be computed using
above parameter and an assumed Hazard Ratio) &amp; Variance.</li>
<li>Probability of Death event Happening BEFORE Progression event for
Control arm.</li>
<li>Probability of Death event Happening BEFORE Progression event for
Treatment arm.</li>
</ol>
<p>See the <a href="#example-using-prior-distributions">Response
(Patient Simulation) Integration Point</a> section below for more
information about these variables and example values.</p>
<ol start="11" style="list-style-type: decimal">
<li>Use the Parameter Solving Tool below to convert Median Survival Time
&amp; Variance parameters into Shape &amp; Rate parameters.</li>
</ol>
<div class="alert alert-primary" role="alert">
<strong>Parameter Solving Tool</strong>
<p style="margin-bottom:0">
Enter your desired <strong>mean</strong> and <strong>variance</strong>
to calculate the <strong>shape</strong> and <strong>rate</strong>
parameters for the Gamma distribution:
</p>
<p><label for="mean">Mean:</label>
<input type="number" id="mean" value="1" step="any"><br><label for="variance">Variance:</label>
<input type="number" id="variance" value="1" step="any"><br></p>
<button type="button" class="btn btn-primary" onclick="calculateGammaParams()">
Calculate
</button>
<p><br></p>
<p>
<strong>Shape:</strong> <span id="shapeOut">-</span>
</p>
<p>
<strong>Rate:</strong> <span id="rateOut">-</span>
</p>
<script>
function calculateGammaParams() {
  const mean = parseFloat(document.getElementById("mean").value);
  const variance = parseFloat(document.getElementById("variance").value);

  if (isNaN(mean) || isNaN(variance) || mean <= 0 || variance <= 0) {
    alert("Please enter valid positive numbers for both mean and variance.");
    return;
  }

  const shape = mean * mean / variance;
  const rate = mean / variance;

  document.getElementById("shapeOut").innerText = shape.toFixed(4);
  document.getElementById("rateOut").innerText = rate.toFixed(4);
}
</script>
</div>
<ol start="12" style="list-style-type: decimal">
<li>Navigate to the Response page, and then select “User Specified – R”
in the Distribution field.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step12.png" width="800"></p>
<ol start="13" style="list-style-type: decimal">
<li>Click on the “+” icon to open the R Integration pop-up window.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step13.png" width="800"></p>
<ol start="14" style="list-style-type: decimal">
<li>Click on “Select File” and then on “Continue”.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step14.png" width="800"></p>
<ol start="15" style="list-style-type: decimal">
<li>Select the file “Simulate2EndpointTTEWithMultiState.R”.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step15.png" width="800"></p>
<ol start="16" style="list-style-type: decimal">
<li>Check that the correct file has been imported and the correct
Function Name has been specified by the system.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step16.png" width="800"></p>
<ol start="17" style="list-style-type: decimal">
<li>Note that the User Parameter variables have been automatically
pulled from the R function that was imported. Delete the first six
variables from the list, as we are not using them right now. As the
Delete feature is not available yet, you can specify a value of 0 for
each parameter instead.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step17.png" width="400"></p>
<ol start="18" style="list-style-type: decimal">
<li>Specify the values for each of the required User Parameter variables
for the function.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step18.png" width="800"></p>
<p>See the <a href="#example-using-prior-distributions">Response
(Patient Simulation) Integration Point</a> section below for more
information on these variables and example values.</p>
<ol start="19" style="list-style-type: decimal">
<li>Click on the “Save” button to exit the R Integration details
window.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step19.png" width="800"></p>
<ol start="20" style="list-style-type: decimal">
<li>Navigate to the “Dropout Rate” tab within the Response Card to
include dropout information if needed.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step20.png" width="800"></p>
</div>
<div class="section level3">
<h3 id="enrollment-page">Enrollment Page<a class="anchor" aria-label="anchor" href="#enrollment-page"></a>
</h3>
<ol start="21" style="list-style-type: decimal">
<li>Navigate to the Enrollment page, and specify the average number of
subjects enrolled per time unit (e.g. default is per month).</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step21.png" width="800"></p>
</div>
<div class="section level3">
<h3 id="simulation-setup-page">Simulation Setup Page<a class="anchor" aria-label="anchor" href="#simulation-setup-page"></a>
</h3>
<ol start="22" style="list-style-type: decimal">
<li>Specify the number of simulation runs as needed.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step22.png" width="800"></p>
<ol start="23" style="list-style-type: decimal">
<li>Check the checkbox to save the simulation data for all simulated
models.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step23.png" width="800"></p>
<ol start="24" style="list-style-type: decimal">
<li>Click the “Save &amp; Simulate” button.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step24.png" width="800"></p>
<ol start="25" style="list-style-type: decimal">
<li>Confirm by clicking on “Simulate” in the pop-up window, and wait for
the simulation runs to finish.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step25.png" width="500"></p>
</div>
<div class="section level3">
<h3 id="results-page">Results Page<a class="anchor" aria-label="anchor" href="#results-page"></a>
</h3>
<ol start="26" style="list-style-type: decimal">
<li>Check whether the simulation failed or was completed by looking at
the Status column.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step26.png" width="600"></p>
<ol start="27" style="list-style-type: decimal">
<li>If the simulation failed, open the Log window to see if there are
any helpful error messages.</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>Click on the “?” icon in the top right corner of your screen.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step27a.png" width="800"></p>
<ol start="2" style="list-style-type: lower-alpha">
<li>Click on “Log”.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step27b.png" width="800"></p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Identify any errors that appear. For example:</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step27c.png" width="400"></p>
<ol start="28" style="list-style-type: decimal">
<li>If the simulation has completed, click on the Result name. If you
have multiple scenarios in your simulation, you will be prompted to
label at least one scenario from the list. Alternatively, you may also
skip this step by selecting the “Skip” button in the bottom left
corner.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step28.png" width="800"></p>
<ol start="29" style="list-style-type: decimal">
<li>The Explore page of the results appears. Hover over each cell in the
heat map to see a summary of the outputs. Because of our custom R
scripts, “Power” is actually now equivalent to “Probability of Success”,
where success means that PFS is statistically significant and OS is
trending.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step29.png" width="800"></p>
<p>See the <a href="#results">Results</a> section below for more
information.</p>
<ol start="30" style="list-style-type: decimal">
<li>To visualize the Probability of Success at an interim look, click on
the cell in the heat map to open the Detailed Model Output Card. Scroll
to the bottom and open the “Simulation Boundaries and Boundary Crossing
Probabilities” Table.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step30.png" width="800"></p>
<ol start="31" style="list-style-type: decimal">
<li>If you need to be reminded which threshold for the OS success
criteria was used, scroll up to the top of the Detailed Output page and
find details of your inputs in the “Summary” card.</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step31.png" width="800"></p>
<ol start="32" style="list-style-type: decimal">
<li>Compute the Probability of Success at each analysis by identifying
the number of times the trial stopped for Efficacy at a given analysis
over the total number of simulations. For example:</li>
</ol>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Step32.png" width="800"></p>
<ul>
<li>Probability of Success at interim: 4055/10000 = 40.55%</li>
<li>Probability of Success at the final analysis conditional on an
unsuccessful interim: 3191/5945 = 53.68%</li>
<li>Probability of Success by the final analysis (either at IA1 or FA):
7246/10000 = 72.46%</li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="technical-information-and-example-values">Technical Information and Example Values<a class="anchor" aria-label="anchor" href="#technical-information-and-example-values"></a>
</h2>
<div class="section level3">
<h3 id="response-patient-simulation-integration-point">Response (Patient Simulation) Integration Point<a class="anchor" aria-label="anchor" href="#response-patient-simulation-integration-point"></a>
</h3>
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This endpoint is related to this R file:
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ProbabilitySuccessDualEndpointsPFSOS/R/Simulate2EndpointTTEWithMultiState.R" class="external-link alert-link">Simulate2EndpointTTEWithMultiState.R</a>
</p>
</div>
<p>We are using East Horizon’s single-endpoint framework, which we
customize to support dual endpoints through the Response Integration
Point via our R script linked above. The two endpoints of interest
are:</p>
<ul>
<li>
<strong>Progression-Free Survival (PFS)</strong>: The duration
during which a patient lives with a disease without experiencing further
progression.</li>
<li>
<strong>Overall Survival (OS)</strong>: The total time elapsed from
treatment until death.</li>
</ul>
<p>We use a multi-state model to simulate event times for each patient
in every simulated trial. This model captures the relationship between
PFS and OS by generating both outcomes together, rather than
independently. Information generated from this simulation will be used
later for the <a href="#analysis-integration-point">Analysis Integration
Point</a>.</p>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/MultiStateDiagram.jpg"></p>
<p>The diagram above illustrates the multistate model for survival
analysis, with three states:</p>
<ol style="list-style-type: decimal">
<li>
<strong>State 0</strong>: Initial, no progression.</li>
<li>
<strong>State 1</strong>: Progression, event occurs that makes the
disease progress.</li>
<li>
<strong>State 2</strong>: Death.</li>
</ol>
<p>There are also three transitions between states:</p>
<ol style="list-style-type: decimal">
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>α</mi><mn>01</mn></msub><annotation encoding="application/x-tex">\alpha_{01}</annotation></semantics></math>:
Transition rate from Initial to Progression.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>α</mi><mn>02</mn></msub><annotation encoding="application/x-tex">\alpha_{02}</annotation></semantics></math>:
Transition rate from Initial to Death.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>α</mi><mn>12</mn></msub><annotation encoding="application/x-tex">\alpha_{12}</annotation></semantics></math>:
Transition rate from Progression to Death.</li>
</ol>
<p>From Meller et al. [1], the probability of progression before death
is:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>=</mo><mfrac><msub><mi>α</mi><mn>01</mn></msub><mrow><msub><mi>α</mi><mn>01</mn></msub><mo>+</mo><msub><mi>α</mi><mn>02</mn></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex"> q = \frac{\alpha_{01}}{\alpha_{01} + \alpha_{02}} </annotation></semantics></math></p>
<p>Where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>=</mo><mn>1</mn><mo>−</mo><mi>p</mi></mrow><annotation encoding="application/x-tex">q = 1 - p</annotation></semantics></math>,
with
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>p</mi><annotation encoding="application/x-tex">p</annotation></semantics></math>
being the probability of Death before Progression.</p>
<p>Using this relationship:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>02</mn></msub><mo>=</mo><mfrac><mrow><msub><mi>α</mi><mn>01</mn></msub><mo>⋅</mo><mi>p</mi></mrow><mi>q</mi></mfrac></mrow><annotation encoding="application/x-tex"> \alpha_{02} = \frac{\alpha_{01} \cdot p}{q} </annotation></semantics></math></p>
<p>Or equivalently:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>01</mn></msub><mo>=</mo><mfrac><mrow><msub><mi>α</mi><mn>02</mn></msub><mo>⋅</mo><mi>q</mi></mrow><mi>p</mi></mfrac></mrow><annotation encoding="application/x-tex"> \alpha_{01} = \frac{\alpha_{02} \cdot q}{p} </annotation></semantics></math></p>
<p>Progression-Free Survival (PFS) is treated as the minimum of two
competing times:</p>
<ul>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub><mo>∼</mo><mtext mathvariant="normal">Exp</mtext><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>α</mi><mn>01</mn></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">X_1 \sim \text{Exp}(\alpha_{01})</annotation></semantics></math>:
Time from Initial to Progression.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>2</mn></msub><mo>∼</mo><mtext mathvariant="normal">Exp</mtext><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>α</mi><mn>02</mn></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">X_2 \sim \text{Exp}(\alpha_{02})</annotation></semantics></math>:
Time from Initial to Death without Progression.</li>
</ul>
<p>Using the property of the minimum of two exponential random variables
[2]:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>=</mo><mo>min</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>X</mi><mn>1</mn></msub><mo>,</mo><msub><mi>X</mi><mn>2</mn></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>∼</mo><mtext mathvariant="normal">Exp</mtext><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>α</mi><mn>01</mn></msub><mo>+</mo><msub><mi>α</mi><mn>02</mn></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex"> Z = \min(X_1, X_2) \sim \text{Exp}(\alpha_{01} + \alpha_{02}) </annotation></semantics></math></p>
<p>The median of an exponential distribution is given by:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><mfrac><mrow><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><msub><mi>α</mi><mn>01</mn></msub><mo>+</mo><msub><mi>α</mi><mn>02</mn></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex"> M = \frac{\log(2)}{\alpha_{01} + \alpha_{02}} </annotation></semantics></math></p>
<p>Substituting
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>α</mi><mn>01</mn></msub><annotation encoding="application/x-tex">\alpha_{01}</annotation></semantics></math>
in terms of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>α</mi><mn>02</mn></msub><annotation encoding="application/x-tex">\alpha_{02}</annotation></semantics></math>:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><mfrac><mn>1</mn><mrow><msub><mi>α</mi><mn>01</mn></msub><mo>+</mo><msub><mi>α</mi><mn>02</mn></msub></mrow></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><mfrac><mrow><msub><mi>α</mi><mn>02</mn></msub><mo>⋅</mo><mi>q</mi></mrow><mi>p</mi></mfrac><mo>+</mo><msub><mi>α</mi><mn>02</mn></msub></mrow></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><msub><mi>α</mi><mn>02</mn></msub><mo>⋅</mo><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mi>q</mi><mi>p</mi></mfrac><mo>+</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex"> M = \frac{1}{\alpha_{01} + \alpha_{02}} = \frac{1}{\frac{\alpha_{02} \cdot q}{p} + \alpha_{02}} = \frac{1}{\alpha_{02} \cdot \left(\frac{q}{p} + 1\right)} </annotation></semantics></math></p>
<p>Solving for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>α</mi><mn>02</mn></msub><annotation encoding="application/x-tex">\alpha_{02}</annotation></semantics></math>:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>02</mn></msub><mo>=</mo><mfrac><mrow><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>M</mi><mo>⋅</mo><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mi>q</mi><mi>p</mi></mfrac><mo>+</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex"> \alpha_{02} = \frac{\log(2)}{M \cdot \left(\frac{q}{p} + 1\right)} </annotation></semantics></math></p>
<p>Once
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>α</mi><mn>02</mn></msub><annotation encoding="application/x-tex">\alpha_{02}</annotation></semantics></math>
is calculated,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>α</mi><mn>01</mn></msub><annotation encoding="application/x-tex">\alpha_{01}</annotation></semantics></math>
can be derived using:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>01</mn></msub><mo>=</mo><mfrac><mrow><msub><mi>α</mi><mn>02</mn></msub><mo>⋅</mo><mi>q</mi></mrow><mi>p</mi></mfrac></mrow><annotation encoding="application/x-tex"> \alpha_{01} = \frac{\alpha_{02} \cdot q}{p} </annotation></semantics></math></p>
<p>Overall Survival (OS) accounts for both pathways:</p>
<ol style="list-style-type: decimal">
<li>Directly Initial to Death without Progression:
<ul>
<li>Occurs with probability
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>p</mi><annotation encoding="application/x-tex">p</annotation></semantics></math>.</li>
<li>Survival time is
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mi>S</mi><mo>=</mo><msub><mi>X</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">OS = X_2</annotation></semantics></math>
(time to death without progression).</li>
</ul>
</li>
<li>Initial to Progression to Death:
<ul>
<li>Occurs with probability
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>q</mi><annotation encoding="application/x-tex">q</annotation></semantics></math>.</li>
<li>Survival time is
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mi>S</mi><mo>=</mo><msub><mi>X</mi><mn>1</mn></msub><mo>+</mo><msub><mi>X</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">OS = X_1 + X_3</annotation></semantics></math>,
where:
<ul>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub><mo>∼</mo><mtext mathvariant="normal">Exp</mtext><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>α</mi><mn>01</mn></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">X_1 \sim \text{Exp}(\alpha_{01})</annotation></semantics></math>
(time to progression),</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>3</mn></msub><mo>∼</mo><mtext mathvariant="normal">Exp</mtext><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>α</mi><mn>12</mn></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">X_3 \sim \text{Exp}(\alpha_{12})</annotation></semantics></math>
(time from progression to death).</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>The median OS
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mrow><mi>O</mi><mi>S</mi></mrow></msub><annotation encoding="application/x-tex">M_{OS}</annotation></semantics></math>)
is approximated as a weighted combination of these two pathways:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><mi>O</mi><mi>S</mi></mrow></msub><mo>=</mo><mtext mathvariant="normal">Median</mtext><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>X</mi><mn>2</mn></msub><mo>⋅</mo><mi>p</mi><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>X</mi><mn>1</mn></msub><mo>+</mo><msub><mi>X</mi><mn>3</mn></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>⋅</mo><mi>q</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mi>p</mi><mo>⋅</mo><mfrac><mrow><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><msub><mi>α</mi><mn>02</mn></msub></mfrac><mo>+</mo><mi>q</mi><mo>⋅</mo><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><msub><mi>α</mi><mn>01</mn></msub></mfrac><mo>+</mo><mfrac><mrow><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><msub><mi>α</mi><mn>12</mn></msub></mfrac><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex"> M_{OS} = \text{Median}(X_2 \cdot p + (X_1 + X_3) \cdot q) = p \cdot \frac{\log(2)}{\alpha_{02}} + q \cdot (\frac{\log(2)}{\alpha_{01}} + \frac{\log(2)}{\alpha_{12}})</annotation></semantics></math></p>
<p>To compute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>α</mi><mn>12</mn></msub><annotation encoding="application/x-tex">\alpha_{12}</annotation></semantics></math>,
the model numerically solves for the rate using <code>uniroot</code>,
ensuring consistency with the user-provided median OS.</p>
<p><strong>Sources</strong></p>
<ul>
<li>[1] Joint Modeling of progression-free and overall survival and
computation of correlation measures, Meller M, Beyersmann J, Rufibach K,
2018</li>
<li>[2] Purdue University, <a href="https://web.archive.org/web/20221223040709/https://llc.stat.purdue.edu/2014/41600/notes/prob3205.pdf" class="external-link">minimum_two_exponentials.pdf</a>
</li>
</ul>
<div class="section level4">
<h4 id="example-using-median-times">Example Using Median Times<a class="anchor" aria-label="anchor" href="#example-using-median-times"></a>
</h4>
<p>One option is to directly input the median times and probabilities of
death before progression into the script as user parameters. Refer to
the table below for the definitions and example values of these
user-defined parameters.</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="50%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Definition</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>dMedianPFS0</strong></td>
<td>Median time to PFS event for control group</td>
<td>12</td>
</tr>
<tr class="even">
<td><strong>dMedianPFS1</strong></td>
<td>Median time to PFS event for treatment group</td>
<td>18</td>
</tr>
<tr class="odd">
<td><strong>dMedianOS0</strong></td>
<td>Median time to OS event for control group</td>
<td>18</td>
</tr>
<tr class="even">
<td><strong>dMedianOS1</strong></td>
<td>Median time to OS event for treatment group</td>
<td>27</td>
</tr>
<tr class="odd">
<td><strong>dProbOfDeathBeforeProgression0</strong></td>
<td>Probability of death before PFS for control group</td>
<td>0.2</td>
</tr>
<tr class="even">
<td><strong>dProbOfDeathBeforeProgression1</strong></td>
<td>Probability of death before PFS for treatment group</td>
<td>0.2</td>
</tr>
</tbody>
</table>
<p>Here, the median times are in months and the hazard ratio for both
endpoints (PFS &amp; OS) is equal to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>12</mn><mn>18</mn></mfrac><mo>=</mo><mfrac><mn>18</mn><mn>27</mn></mfrac><mo>=</mo><mn>0.6667</mn></mrow><annotation encoding="application/x-tex">\frac{12}{18} = \frac{18}{27} = 0.6667</annotation></semantics></math>.
The probability of death before progression is 20% for both control and
treatment arms.</p>
</div>
<div class="section level4">
<h4 id="example-using-prior-distributions">Example Using Prior Distributions<a class="anchor" aria-label="anchor" href="#example-using-prior-distributions"></a>
</h4>
<p>Another option is to customize how patient data is simulated by
building a more realistic model for both PFS and OS outcomes using prior
distributions instead of directly using median times and probabilities.
Using prior distributions allows us to account for uncertainty around
the true treatment effect, which enables users to identify the
Probability of Success of a trial rather than statistical Power. Here’s
how the event data is generated:</p>
<ul>
<li>Time to PFS event is sampled from a Gamma distribution.</li>
<li>Time to OS event is also sampled from a Gamma distribution.</li>
<li>The probability that the OS event happens before the PFS event is
sampled from a Beta distribution.</li>
</ul>
<p>All three parameters are treated as random variables, sampled from
prior distributions, allowing each simulated trial to reflect a range of
possible real-world outcomes.</p>
<p>Refer to the table below for the definitions of the user-defined
parameters used in this example.</p>
<table class="table">
<colgroup>
<col width="33%">
<col width="66%">
</colgroup>
<thead><tr class="header">
<th><strong>User Parameter</strong></th>
<th><strong>Definition</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>dMedianPFS0PriorShape</strong></td>
<td>Shape parameter for the median time to PFS event for control
group</td>
</tr>
<tr class="even">
<td><strong>dMedianPFS0PriorRate</strong></td>
<td>Rate parameter for the median time to PFS event for control
group</td>
</tr>
<tr class="odd">
<td><strong>dMedianPFS1PriorShape</strong></td>
<td>Shape parameter for the median time to PFS event for treatment
group</td>
</tr>
<tr class="even">
<td><strong>dMedianPFS1PriorRate</strong></td>
<td>Rate parameter for the median time to PFS event for treatment
group</td>
</tr>
<tr class="odd">
<td><strong>dMedianOS0PriorShape</strong></td>
<td>Shape parameter for the median time to OS event for control
group</td>
</tr>
<tr class="even">
<td><strong>dMedianOS0PriorRate</strong></td>
<td>Rate parameter for the median time to OS event for control
group</td>
</tr>
<tr class="odd">
<td><strong>dMedianOS1PriorShape</strong></td>
<td>Shape parameter for the median time to OS event for treatment
group</td>
</tr>
<tr class="even">
<td><strong>dMedianOS1PriorRate</strong></td>
<td>Rate parameter for the median time to OS event for treatment
group</td>
</tr>
<tr class="odd">
<td><strong>dProbOfDeathBeforeProgression0Param1</strong></td>
<td>Alpha parameter for probability of death before progression for
control group</td>
</tr>
<tr class="even">
<td><strong>dProbOfDeathBeforeProgression0Param2</strong></td>
<td>Beta parameter for probability of death before progression for
control group</td>
</tr>
<tr class="odd">
<td><strong>dProbOfDeathBeforeProgression1Param1</strong></td>
<td>Alpha parameter for probability of death before progression for
treatment group</td>
</tr>
<tr class="even">
<td><strong>dProbOfDeathBeforeProgression1Param2</strong></td>
<td>Beta parameter for probability of death before progression for
treatment group</td>
</tr>
</tbody>
</table>
<p>The shape and rate parameters can be calculated from the assumed mean
(i.e. median survival time) and its variance. You can use the <a href="#response-page">Parameter Solving tool</a> from the Step-by-Step
section above to compute these required parameters.</p>
<p>If you have the scale parameter for your assumption instead of the
rate parameter, you can convert from one to the other using the formula
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mfrac><mn>1</mn><mrow><mi>S</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>e</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">Rate = \frac{1}{Scale}</annotation></semantics></math>.</p>
<div class="section level5">
<h5 id="scenario-1-alternative-hypothesis-equal-variance">Scenario 1: Alternative Hypothesis &amp; Equal Variance<a class="anchor" aria-label="anchor" href="#scenario-1-alternative-hypothesis-equal-variance"></a>
</h5>
<p>In this first example scenario, we want:</p>
<ul>
<li>A variance of 10 for both endpoints (PFS and OS) and both arms
(control and treatment).</li>
<li>For the control arm:
<ul>
<li>A mean time to PFS event of 12 months.</li>
<li>A mean time to OS event of 18 months.</li>
</ul>
</li>
<li>For the treatment arm:
<ul>
<li>A mean time to PFS event of 18 months.</li>
<li>A mean time to OS event of 27 months.</li>
</ul>
</li>
<li>A probability of death before progression of 20% for both arms.</li>
</ul>
<p>Using the tool above, we get:</p>
<ul>
<li>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo>=</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">mean = 12</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">variance = 10</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>h</mi><mi>a</mi><mi>p</mi><mi>e</mi><mo>=</mo><mn>14.4</mn></mrow><annotation encoding="application/x-tex">shape = 14.4</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mn>1.2</mn></mrow><annotation encoding="application/x-tex">rate = 1.2</annotation></semantics></math>
</li>
<li>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo>=</mo><mn>18</mn></mrow><annotation encoding="application/x-tex">mean = 18</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">variance = 10</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>h</mi><mi>a</mi><mi>p</mi><mi>e</mi><mo>=</mo><mn>32.4</mn></mrow><annotation encoding="application/x-tex">shape = 32.4</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mn>1.8</mn></mrow><annotation encoding="application/x-tex">rate = 1.8</annotation></semantics></math>
</li>
<li>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo>=</mo><mn>27</mn></mrow><annotation encoding="application/x-tex">mean = 27</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">variance = 10</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>h</mi><mi>a</mi><mi>p</mi><mi>e</mi><mo>=</mo><mn>72.9</mn></mrow><annotation encoding="application/x-tex">shape = 72.9</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mn>2.7</mn></mrow><annotation encoding="application/x-tex">rate = 2.7</annotation></semantics></math>
</li>
</ul>
<p>Refer to the table below for the values of all user-defined
parameters used in this example.</p>
<table class="table">
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>dMedianPFS0PriorShape</strong></td>
<td>14.4</td>
</tr>
<tr class="even">
<td><strong>dMedianPFS0PriorRate</strong></td>
<td>1.2</td>
</tr>
<tr class="odd">
<td><strong>dMedianPFS1PriorShape</strong></td>
<td>32.4</td>
</tr>
<tr class="even">
<td><strong>dMedianPFS1PriorRate</strong></td>
<td>1.8</td>
</tr>
<tr class="odd">
<td><strong>dMedianOS0PriorShape</strong></td>
<td>32.4</td>
</tr>
<tr class="even">
<td><strong>dMedianOS0PriorRate</strong></td>
<td>1.8</td>
</tr>
<tr class="odd">
<td><strong>dMedianOS1PriorShape</strong></td>
<td>72.9</td>
</tr>
<tr class="even">
<td><strong>dMedianOS1PriorRate</strong></td>
<td>2.7</td>
</tr>
<tr class="odd">
<td><strong>dProbOfDeathBeforeProgression0Param1</strong></td>
<td>20</td>
</tr>
<tr class="even">
<td><strong>dProbOfDeathBeforeProgression0Param2</strong></td>
<td>80</td>
</tr>
<tr class="odd">
<td><strong>dProbOfDeathBeforeProgression1Param1</strong></td>
<td>20</td>
</tr>
<tr class="even">
<td><strong>dProbOfDeathBeforeProgression1Param2</strong></td>
<td>80</td>
</tr>
</tbody>
</table>
</div>
<div class="section level5">
<h5 id="scenario-2-alternative-hypothesis-higher-variance">Scenario 2: Alternative Hypothesis &amp; Higher Variance<a class="anchor" aria-label="anchor" href="#scenario-2-alternative-hypothesis-higher-variance"></a>
</h5>
<p>In this second example scenario, we want:</p>
<ul>
<li>For the control arm:
<ul>
<li>A variance of 10 for both endpoints (PFS and OS).</li>
<li>A mean time to PFS event of 12 months.</li>
<li>A mean time to OS event of 18 months.</li>
</ul>
</li>
<li>For the treatment arm:
<ul>
<li>A variance of 20 for both endpoints (PFS and OS).</li>
<li>A mean time to PFS event of 18 months.</li>
<li>A mean time to OS event of 27 months.</li>
</ul>
</li>
<li>A probability of death before progression of 20% for both arms.</li>
</ul>
<p>Using the tool above, we get:</p>
<ul>
<li>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo>=</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">mean = 12</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">variance = 10</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>h</mi><mi>a</mi><mi>p</mi><mi>e</mi><mo>=</mo><mn>14.4</mn></mrow><annotation encoding="application/x-tex">shape = 14.4</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mn>1.2</mn></mrow><annotation encoding="application/x-tex">rate = 1.2</annotation></semantics></math>
</li>
<li>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo>=</mo><mn>18</mn></mrow><annotation encoding="application/x-tex">mean = 18</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">variance = 10</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>h</mi><mi>a</mi><mi>p</mi><mi>e</mi><mo>=</mo><mn>32.4</mn></mrow><annotation encoding="application/x-tex">shape = 32.4</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mn>1.8</mn></mrow><annotation encoding="application/x-tex">rate = 1.8</annotation></semantics></math>
</li>
<li>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo>=</mo><mn>18</mn></mrow><annotation encoding="application/x-tex">mean = 18</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">variance = 20</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>h</mi><mi>a</mi><mi>p</mi><mi>e</mi><mo>=</mo><mn>16.2</mn></mrow><annotation encoding="application/x-tex">shape = 16.2</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mn>0.9</mn></mrow><annotation encoding="application/x-tex">rate = 0.9</annotation></semantics></math>
</li>
<li>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo>=</mo><mn>27</mn></mrow><annotation encoding="application/x-tex">mean = 27</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">variance = 20</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>h</mi><mi>a</mi><mi>p</mi><mi>e</mi><mo>=</mo><mn>36.45</mn></mrow><annotation encoding="application/x-tex">shape = 36.45</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mn>1.35</mn></mrow><annotation encoding="application/x-tex">rate = 1.35</annotation></semantics></math>
</li>
</ul>
<p>Refer to the table below for the values of all user-defined
parameters used in this example.</p>
<table class="table">
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>dMedianPFS0PriorShape</strong></td>
<td>14.4</td>
</tr>
<tr class="even">
<td><strong>dMedianPFS0PriorRate</strong></td>
<td>1.2</td>
</tr>
<tr class="odd">
<td><strong>dMedianPFS1PriorShape</strong></td>
<td>16.2</td>
</tr>
<tr class="even">
<td><strong>dMedianPFS1PriorRate</strong></td>
<td>0.9</td>
</tr>
<tr class="odd">
<td><strong>dMedianOS0PriorShape</strong></td>
<td>32.4</td>
</tr>
<tr class="even">
<td><strong>dMedianOS0PriorRate</strong></td>
<td>1.8</td>
</tr>
<tr class="odd">
<td><strong>dMedianOS1PriorShape</strong></td>
<td>36.45</td>
</tr>
<tr class="even">
<td><strong>dMedianOS1PriorRate</strong></td>
<td>1.35</td>
</tr>
<tr class="odd">
<td><strong>dProbOfDeathBeforeProgression0Param1</strong></td>
<td>20</td>
</tr>
<tr class="even">
<td><strong>dProbOfDeathBeforeProgression0Param2</strong></td>
<td>80</td>
</tr>
<tr class="odd">
<td><strong>dProbOfDeathBeforeProgression1Param1</strong></td>
<td>20</td>
</tr>
<tr class="even">
<td><strong>dProbOfDeathBeforeProgression1Param2</strong></td>
<td>80</td>
</tr>
</tbody>
</table>
</div>
<div class="section level5">
<h5 id="scenario-3-null-hypothesis-equal-variance">Scenario 3: Null Hypothesis &amp; Equal Variance<a class="anchor" aria-label="anchor" href="#scenario-3-null-hypothesis-equal-variance"></a>
</h5>
<p>In this third example scenario, we want:</p>
<ul>
<li>A variance of 10 for both endpoints (PFS and OS) and both arms
(control and treatment).</li>
<li>For the control arm:
<ul>
<li>A mean time to PFS event of 12 months.</li>
<li>A mean time to OS event of 18 months.</li>
</ul>
</li>
<li>For the treatment arm:
<ul>
<li>A mean time to PFS event of 12 months.</li>
<li>A mean time to OS event of 18 months.</li>
</ul>
</li>
<li>A probability of death before progression of 20% for both arms.</li>
</ul>
<p>Using the tool above, we get:</p>
<ul>
<li>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo>=</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">mean = 12</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">variance = 10</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>h</mi><mi>a</mi><mi>p</mi><mi>e</mi><mo>=</mo><mn>14.4</mn></mrow><annotation encoding="application/x-tex">shape = 14.4</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mn>1.2</mn></mrow><annotation encoding="application/x-tex">rate = 1.2</annotation></semantics></math>
</li>
<li>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo>=</mo><mn>18</mn></mrow><annotation encoding="application/x-tex">mean = 18</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">variance = 10</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>h</mi><mi>a</mi><mi>p</mi><mi>e</mi><mo>=</mo><mn>32.4</mn></mrow><annotation encoding="application/x-tex">shape = 32.4</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mn>1.8</mn></mrow><annotation encoding="application/x-tex">rate = 1.8</annotation></semantics></math>
</li>
</ul>
<p>Refer to the table below for the values of all user-defined
parameters used in this example.</p>
<table class="table">
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>dMedianPFS0PriorShape</strong></td>
<td>14.4</td>
</tr>
<tr class="even">
<td><strong>dMedianPFS0PriorRate</strong></td>
<td>1.2</td>
</tr>
<tr class="odd">
<td><strong>dMedianPFS1PriorShape</strong></td>
<td>14.4</td>
</tr>
<tr class="even">
<td><strong>dMedianPFS1PriorRate</strong></td>
<td>1.2</td>
</tr>
<tr class="odd">
<td><strong>dMedianOS0PriorShape</strong></td>
<td>32.4</td>
</tr>
<tr class="even">
<td><strong>dMedianOS0PriorRate</strong></td>
<td>1.8</td>
</tr>
<tr class="odd">
<td><strong>dMedianOS1PriorShape</strong></td>
<td>32.4</td>
</tr>
<tr class="even">
<td><strong>dMedianOS1PriorRate</strong></td>
<td>1.8</td>
</tr>
<tr class="odd">
<td><strong>dProbOfDeathBeforeProgression0Param1</strong></td>
<td>20</td>
</tr>
<tr class="even">
<td><strong>dProbOfDeathBeforeProgression0Param2</strong></td>
<td>80</td>
</tr>
<tr class="odd">
<td><strong>dProbOfDeathBeforeProgression1Param1</strong></td>
<td>20</td>
</tr>
<tr class="even">
<td><strong>dProbOfDeathBeforeProgression1Param2</strong></td>
<td>80</td>
</tr>
</tbody>
</table>
</div>
<div class="section level5">
<h5 id="scenario-4-null-hypothesis-higher-variance">Scenario 4: Null Hypothesis &amp; Higher Variance<a class="anchor" aria-label="anchor" href="#scenario-4-null-hypothesis-higher-variance"></a>
</h5>
<p>In this final example scenario, we want:</p>
<ul>
<li>For the control arm:
<ul>
<li>A variance of 10 for both endpoints (PFS and OS)</li>
<li>A mean time to PFS event of 12 months.</li>
<li>A mean time to OS event of 18 months.</li>
</ul>
</li>
<li>For the treatment arm:
<ul>
<li>A variance of 20 for both endpoints (PFS and OS)</li>
<li>A mean time to PFS event of 12 months.</li>
<li>A mean time to OS event of 18 months.</li>
</ul>
</li>
<li>A probability of death before progression of 20% for both arms.</li>
</ul>
<p>Using the tool above, we get:</p>
<ul>
<li>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo>=</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">mean = 12</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">variance = 10</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>h</mi><mi>a</mi><mi>p</mi><mi>e</mi><mo>=</mo><mn>14.4</mn></mrow><annotation encoding="application/x-tex">shape = 14.4</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mn>1.2</mn></mrow><annotation encoding="application/x-tex">rate = 1.2</annotation></semantics></math>
</li>
<li>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo>=</mo><mn>18</mn></mrow><annotation encoding="application/x-tex">mean = 18</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">variance = 10</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>h</mi><mi>a</mi><mi>p</mi><mi>e</mi><mo>=</mo><mn>32.4</mn></mrow><annotation encoding="application/x-tex">shape = 32.4</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mn>1.8</mn></mrow><annotation encoding="application/x-tex">rate = 1.8</annotation></semantics></math>
</li>
<li>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo>=</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">mean = 12</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">variance = 20</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>h</mi><mi>a</mi><mi>p</mi><mi>e</mi><mo>=</mo><mn>7.2</mn></mrow><annotation encoding="application/x-tex">shape = 7.2</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mn>0.6</mn></mrow><annotation encoding="application/x-tex">rate = 0.6</annotation></semantics></math>
</li>
<li>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo>=</mo><mn>18</mn></mrow><annotation encoding="application/x-tex">mean = 18</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">variance = 20</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>h</mi><mi>a</mi><mi>p</mi><mi>e</mi><mo>=</mo><mn>16.2</mn></mrow><annotation encoding="application/x-tex">shape = 16.2</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mn>0.9</mn></mrow><annotation encoding="application/x-tex">rate = 0.9</annotation></semantics></math>
</li>
</ul>
<p>Refer to the table below for the values of all user-defined
parameters used in this example.</p>
<table class="table">
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>dMedianPFS0PriorShape</strong></td>
<td>14.4</td>
</tr>
<tr class="even">
<td><strong>dMedianPFS0PriorRate</strong></td>
<td>1.2</td>
</tr>
<tr class="odd">
<td><strong>dMedianPFS1PriorShape</strong></td>
<td>7.2</td>
</tr>
<tr class="even">
<td><strong>dMedianPFS1PriorRate</strong></td>
<td>0.6</td>
</tr>
<tr class="odd">
<td><strong>dMedianOS0PriorShape</strong></td>
<td>32.4</td>
</tr>
<tr class="even">
<td><strong>dMedianOS0PriorRate</strong></td>
<td>1.8</td>
</tr>
<tr class="odd">
<td><strong>dMedianOS1PriorShape</strong></td>
<td>16.2</td>
</tr>
<tr class="even">
<td><strong>dMedianOS1PriorRate</strong></td>
<td>0.9</td>
</tr>
<tr class="odd">
<td><strong>dProbOfDeathBeforeProgression0Param1</strong></td>
<td>20</td>
</tr>
<tr class="even">
<td><strong>dProbOfDeathBeforeProgression0Param2</strong></td>
<td>80</td>
</tr>
<tr class="odd">
<td><strong>dProbOfDeathBeforeProgression1Param1</strong></td>
<td>20</td>
</tr>
<tr class="even">
<td><strong>dProbOfDeathBeforeProgression1Param2</strong></td>
<td>80</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section level3">
<h3 id="analysis-integration-point">Analysis Integration Point<a class="anchor" aria-label="anchor" href="#analysis-integration-point"></a>
</h3>
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This endpoint is related to this R file:
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ProbabilitySuccessDualEndpointsPFSOS/R/AnalyzePFSAndOS.R" class="external-link alert-link">AnalyzePFSAndOS.R</a>
</p>
</div>
<p>Using the file above, the Analysis element of East Horizon’s
simulation is customized to compute the probability of success (PoS) for
the trial, based on dual endpoints: Progression-Free Survival (PFS) and
Overall Survival (OS). The file uses information from the simulation
(<em>SimData</em> variable) that is generated by the Response element of
East Horizon’s simulation. See the <a href="#response-patient-simulation-integration-point">Response
section</a> above for more information about the PFS and OS endpoints
generation.</p>
<p>The criteria for declaring trial success are as follows. Both
criteria must be met to declare success:</p>
<ul>
<li>
<strong>PFS Endpoint</strong>: Statistical significance must be
achieved by crossing the predefined efficacy boundary (defined by East
Horizon, using a frequentist analysis).</li>
<li>
<strong>OS Endpoint</strong>: A positive trend must be observed,
defined as the OS hazard ratio being below a pre-specified threshold
(defined with user parameters).</li>
</ul>
<p><strong>Note:</strong> At an interim analysis, we usually set
stricter criteria for a positive trend on OS compared to the final
analysis. This is because we have less data early on, so we want to be
more confident in any decision we make at that stage. Therefore, the
threshold defining a positive trend at the interim is typically lower
than the threshold used at the final analysis.</p>
<p>Refer to the table below for the definitions of the user-defined
parameters used in this example.</p>
<table class="table">
<colgroup>
<col width="33%">
<col width="66%">
</colgroup>
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Definition</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>HazardRatioCutoffIA</strong></td>
<td>OS hazard ratio threshold used for the interim analysis</td>
</tr>
<tr class="even">
<td><strong>HazardRatioCutoffFA</strong></td>
<td>OS hazard ratio threshold used for the final analysis</td>
</tr>
</tbody>
</table>
<div class="section level4">
<h4 id="option-1-fixed-sample-design">Option 1: Fixed Sample Design<a class="anchor" aria-label="anchor" href="#option-1-fixed-sample-design"></a>
</h4>
<p>The first example option is a fixed sample design with a hazard ratio
threshold of 0.9. This option shows that we can still use this script
without interim analyses. Refer to the table below for the values of the
user-defined parameters used in this option.</p>
<table class="table">
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody><tr class="odd">
<td><strong>HazardRatioCutoffFA</strong></td>
<td>0.9</td>
</tr></tbody>
</table>
</div>
<div class="section level4">
<h4 id="option-2-group-sequential-design">Option 2: Group Sequential Design<a class="anchor" aria-label="anchor" href="#option-2-group-sequential-design"></a>
</h4>
<p>The second example option is a group sequential design with hazard
ratio thresholds of 0.8 (for interim analysis) and 0.9 (for final
analysis). Refer to the table below for the values of the user-defined
parameters used in this option.</p>
<table class="table">
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>HazardRatioCutoffIA</strong></td>
<td>0.8</td>
</tr>
<tr class="even">
<td><strong>HazardRatioCutoffFA</strong></td>
<td>0.9</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="option-3-low-pos-group-sequential-design">Option 3: Low PoS Group Sequential Design<a class="anchor" aria-label="anchor" href="#option-3-low-pos-group-sequential-design"></a>
</h4>
<p>The third example option is a group sequential design with a lower
hazard ratio threshold of 0.5 for both interim and final analyses. Refer
to the table below for the values of the user-defined parameters used in
this option.</p>
<table class="table">
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>HazardRatioCutoffIA</strong></td>
<td>0.5</td>
</tr>
<tr class="even">
<td><strong>HazardRatioCutoffIA</strong></td>
<td>0.5</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="option-4-high-pos-group-sequential-design">Option 4: High PoS Group Sequential Design<a class="anchor" aria-label="anchor" href="#option-4-high-pos-group-sequential-design"></a>
</h4>
<p>The fourth example option is a group sequential design with a lower
hazard ratio threshold of 0.5 (for interim analysis) and a higher hazard
ratio threshold of 1.2 (for final analysis). Refer to the table below
for the values of the user-defined parameters used in this option.</p>
<table class="table">
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>HazardRatioCutoffIA</strong></td>
<td>0.5</td>
</tr>
<tr class="even">
<td><strong>HazardRatioCutoffIA</strong></td>
<td>1.2</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="results">Results<a class="anchor" aria-label="anchor" href="#results"></a>
</h3>
<p>In the Results section, <em>Power</em> now refers to the probability
of success, where success is defined as a statistically significant
difference in time to progression-free survival (PFS) between the
control and treatment arm as well as a positive trend in overall
survival (OS), i.e. the time to overall survival (OS) is longer in
magnitude for the patients in the treatment arm compared to those in the
control arm. Below is an example of the heatmap that could be generated
by East Horizon following the simulation. Each square represents the
simulated probability of success for a trial, based on a specific
combination of Response scenario (columns) and Analysis option
(rows).</p>
<p><img src="ProbabilitySuccessDualEndpointsPFSOS_files/Results-heatmap.png"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by J. Kyle Wathen, Valeria A. G. Mazzanti, Gabriel Potvin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
