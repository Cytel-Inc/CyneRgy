<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="CyneRgy">
<title>2 Arm Normal Outcome Patient Simulation • CyneRgy</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="2 Arm Normal Outcome Patient Simulation">
<meta property="og:description" content="CyneRgy">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">CyneRgy</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">Home</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-examples">Examples</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-examples">
    <a class="dropdown-item" href="../articles/ExampleOutline.html">Example List</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Patient Simulation</h6>
    <a class="dropdown-item" href="../articles/2ArmNormalOutcomePatientSimulationDescription.html">2-Arm, Normal Outcome</a>
    <a class="dropdown-item" href="../articles/2ArmTimeToEventOutcomePatientSimulationDescription.html">2-Arm, Time-to-Event Outcome</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Analysis</h6>
    <a class="dropdown-item" href="../articles/2ArmBinaryOutcomeAnalysisDescription.html">2-Arm, Binary</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Treatment Selection</h6>
    <a class="dropdown-item" href="../articles/TreatmentSelectionDescription.html">Binary Outcome</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">References</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Cytel-Inc/CyneRgy">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>2 Arm Normal Outcome Patient Simulation</h1>
                        <h4 data-toc-skip class="author">J. Kyle
Wathen</h4>
            
            <h4 data-toc-skip class="date">January 03, 2024</h4>
      
      
      <div class="d-none name"><code>2ArmBinaryOutcomeAnalysisDescription.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="two-arm-binary-outcome---analysis-examples">Two Arm, Binary Outcome - Analysis Examples<a class="anchor" aria-label="anchor" href="#two-arm-binary-outcome---analysis-examples"></a>
</h2>
<p>This example demonstrates how to add new analysis functionality into
East using an R function.</p>
<p>For all examples, we assume the trial design consist of control and
an experimental treatment. There are 2 Interim Analyses, IA, and a Final
Analysis, FA. At the IA, the analysis is performed and, depending on the
example, may determine early efficacy or early futility depending on the
design.</p>
<p>The examples included here are to provide different approaches for
analyzing the data in the trial.</p>
<p><strong>East Workbook</strong>: 2ArmBinaryOutcomeAnalysis.cywx</p>
<p><strong>R Studio Project File</strong>:
2ArmBinaryOutcomeAnalysis.Rproj.</p>
<p>In the RCode directory of this example you will find the following R
files:</p>
<ol style="list-style-type: decimal">
<li><p>AnalyzeUsingEastManualFormula.R - Contains a function named
AnalyzeUsingEastManualFormula to demonstrate the R code necessary for
this example as described below.</p></li>
<li><p>AnalyzeUsingPropTest.R - Contains a function named
AnalyzeUsingPropTest to demonstrate the R code necessary for this
example as described below.</p></li>
<li><p>AnalyzeUsingPropLimitsOfCI.R - Contains a function named
AnalyzeUsingPropLimitsOfCI to demonstrate the R code necessary for this
example as described below.</p></li>
<li><p>AnalyzeUsingBayesAnalysisWithFutility.R - Contains a function
named AnalyzeUsingBayesAnalysisWithFutility to demonstrate the R code
necessary for this example as described below.</p></li>
</ol>
<p>In addition, if you would like to experiment with these examples to
and would like some code to help you get started we have provided
fill-in-the-blank type code files in the FillInTheBlankRCode
directory.</p>
<div class="section level3">
<h3 id="example-1---two-arm-arm-binary-analysis-using-a-formula-28-2-in-the-east-manual">Example 1 - Two-arm Arm Binary Analysis Using a Formula 28.2 in the
East manual<a class="anchor" aria-label="anchor" href="#example-1---two-arm-arm-binary-analysis-using-a-formula-28-2-in-the-east-manual"></a>
</h3>
<p>To replace the analysis, use the formula 28.2 in the East manual to
compute the statistic. The purpose of this example is to demonstrate how
the analysis and decision making could be modified in a simple approach.
The test statistic is compared to the upper boundary computed and sent
by East as an input. This example does NOT include a futility rule.</p>
</div>
<div class="section level3">
<h3 id="example-2---two-arm-arm-binary-analysis-using-the-prop-test-function-in-r-base">Example 2 - Two-arm Arm Binary Analysis Using the prop.test function
in R base<a class="anchor" aria-label="anchor" href="#example-2---two-arm-arm-binary-analysis-using-the-prop-test-function-in-r-base"></a>
</h3>
<p>This example utilizes the prop.test function in base R to perform the
analysis. The p-value from prop.test is used to compute the Z statistic
that is compared to the upper boundary computed and sent by East as an
input. This example does NOT include a futility rule.</p>
</div>
<div class="section level3">
<h3 id="example-3---utilization-of-confidence-interval-limits-for-gono-go-decision-making">Example 3 - Utilization of Confidence Interval Limits for Go/No GO
Decision Making<a class="anchor" aria-label="anchor" href="#example-3---utilization-of-confidence-interval-limits-for-gono-go-decision-making"></a>
</h3>
<p>In many phase II trials, teams like to utilize the upper and lower
boundaries of a confidence interval (CI) for making Go and No Go type
decision. In this type of trial, teams often set a Minimum Acceptable
Value (MAV), the minimum treatment difference that would warrant further
development in a product, and a Target Value (TV), the value that is
highly desirable based on other consideration (TODO-Need more
explanation here). In this simplified example, if it is likely that the
treatment difference is above the MAV then a Go decision is made. If a
Go decision is not made, then if is is unlikely that the treatment
difference is above the TV, a No Go decision is made.</p>
<p>In this example, the prop.test from base R is utilized to analyze the
data and compute at a user-specified confidence interval. If
user-specified variables are not defined, we assume the MAV = 0.1 and
TV=0.2. The team would like to make a Go decision if there is at least a
90% chance that the difference in treatment is greater than the MAV. If
a Go decision is not made, then a No Go decision is made if there is
less than a 10% chance the difference is greater than the TV. Using a
frequentist CI an approximation to this design can be done by the logic
described below.</p>
<p>At an Interim Analysis If the Lower Limit of the CI, denoted by LL,
is greater than a user-specified amount then a Go decision is made.
Specifically, if LL &gt; user-specified lower limit –&gt; Go If a Go
decision is not made, then if the Upper Limit of the CI, denoted by UL,
is less than a user-specified value a No Go decision is made.
Specifically, if UL &lt; user-specified upper limit –&gt; No Go
Otherwise, continue to the next analysis.</p>
<p>At the Final Analysis: If the Lower Limit of the CI, denoted by LL,
is greater than a user-specified values then a Go decision is made.
Specifically, if LL &gt; user-specified value –&gt; Go Otherwise, a No
Go decision is made.</p>
<p>Note, in this example the boundary information that is computed and
sent from East is ignored in order to implement this decision
approach.</p>
</div>
<div class="section level3">
<h3 id="example-4---bayesian-analysis">Example 4 - Bayesian Analysis<a class="anchor" aria-label="anchor" href="#example-4---bayesian-analysis"></a>
</h3>
<p>In this example,the default values of user-specified variables
utilize prior data on 50 patients and incorporate the data directly into
the Bayesian model. The beta distributions for both standard of care and
experimental as well as the upper limit for efficacy and lower limit for
futility can be user-specified variables. With the default
user-specified values in the prior data, 10 patients had a response and
40 patients had a treatment failure. Denote the response rate for
standard of care by <span class="math inline">\(\pi_S\)</span> and on
experimental by <span class="math inline">\(\pi_E\)</span> and we assume
the following prior distributions:</p>
<p><span class="math inline">\(\pi_S \sim\)</span> Beta( 10, 40 ) which
has a prior mean response rate of 20% and is equivalent to observing 50
prior patients with 10 responses.</p>
<p><span class="math inline">\(\pi_E \sim\)</span> Beta( 0.2, 0.8 )
which has a prior mean response rate of 20% and is equivalent to
observing 1 prior patient.</p>
<p>The Beta distribution is conjugate for binary data. Assuming <span class="math inline">\(N_S\)</span> and <span class="math inline">\(N_E\)</span> patients have enrolled on S and E,
respectively, the following data is observed at an interim analysis</p>
<table class="table">
<thead><tr class="header">
<th>Treatment</th>
<th>Number of Responses</th>
<th>Number of Treatment Failures</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>S</td>
<td><span class="math inline">\(X_S\)</span></td>
<td><span class="math inline">\(N_S - X_S\)</span></td>
</tr>
<tr class="even">
<td>E</td>
<td><span class="math inline">\(X_E\)</span></td>
<td><span class="math inline">\(N_E - X_E\)</span></td>
</tr>
</tbody>
</table>
<p>Then posterior distributions are:</p>
<p><span class="math inline">\(\pi_S | N_S, X_S \sim\)</span> Beta( 10 +
<span class="math inline">\(X_S\)</span>, 40 + <span class="math inline">\(N_S - X_S\)</span> )</p>
<p><span class="math inline">\(\pi_E | N_E, X_E \sim\)</span> Beta( 10 +
<span class="math inline">\(X_E\)</span>, 40 + <span class="math inline">\(N_E - X_E\)</span> )</p>
<p>For analysis and decision making, the posterior distributions are
used to stop the trial for efficacy if it is very likely that the
response rate on E is higher than on S and stop for futility if it is
unlikely that the response rate on E is better than S. Specifically,
compute the posterior probability that E has a higher response rate than
S:</p>
<p><span class="math inline">\(\rho = Pr( \pi_E &gt; \pi_C | X_S, N_S,
X_E, N_E )\)</span></p>
<p>At the interim analysis: Note that the below values can be
user-specified.</p>
<p>If <span class="math inline">\(\rho &gt; 0.975\)</span> then make an
early efficacy (Go) decision</p>
<p>If <span class="math inline">\(\rho &lt; 0.10\)</span> then make an
early futility (No Go) decision.</p>
<p>At the final analysis if <span class="math inline">\(\rho &gt;
0.975\)</span> make an efficacy decision, otherwise a futility decision
is made.</p>
<p>This example demonstrates how the prior data and informative prior on
<span class="math inline">\(\pi_S\)</span> can impact decision making.
However, a full sensitivity analysis to the prior information and impact
on Operating characteristics should be explored with approaches like
this.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by J. Kyle Wathen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
