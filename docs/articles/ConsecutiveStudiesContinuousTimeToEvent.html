<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Consecutive Studies, Continuous &amp; Time-to-Event Outcomes • CyneRgy</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_3-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Consecutive Studies, Continuous &amp; Time-to-Event Outcomes">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CyneRgy</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-getting-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Getting Started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-getting-started">
<li><a class="dropdown-item" href="../articles/Overview.html">Overview</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Integration Specific Points</h6></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointInitialization.html">Initialization</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointAnalysis.html">Analysis (Test Statistic)</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointEnrollment.html">Enrollment (Arrival Times)</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointRandomization.html">Randomization</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointResponse.html">Response (Patient Simulation)</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointDropout.html">Dropout</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointTreatmentSelection.html">Treatment Selection</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/ExampleOutline.html">Examples</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">References</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/ContributingToCyneRgy.html">Contribute</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Cytel-Inc/CyneRgy"><span class="fa fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Consecutive Studies, Continuous &amp; Time-to-Event Outcomes</h1>
                        <h4 data-toc-skip class="author">J. Kyle Wathen
and Laurent Spiess</h4>
            
            <h4 data-toc-skip class="date">October 15, 2025</h4>
      

      <div class="d-none name"><code>ConsecutiveStudiesContinuousTimeToEvent.Rmd</code></div>
    </div>

    
    
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
The following scripts are related to the
<a href="IntegrationPointAnalysis.html" class="alert-link"><strong>Integration
Point: Analysis</strong></a> and the
<a href="IntegrationPointResponse.html" class="alert-link"><strong>Integration
Point: Response</strong></a>. Click on the links for more information
about these integration points.
</p>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The intent of the following example is to demonstrate the computation
of Bayesian assurance, or probability of success, and conditional
assurance in consecutive studies by using custom R scripts for the
<strong>Response (Patient Simulation)</strong> and the
<strong>Analysis</strong> integration points of East Horizon. It
features a sequential design involving a Phase 2 trial with a normal
endpoint followed by a Phase 3 trial with a time-to-event endpoint.</p>
<p>The objective is to understand how conducting a Phase 2 study can
reduce the risk associated with the Phase 3 trial. This
<strong>de-risking</strong> is evaluated by comparing two scenarios: (1)
the probability of a No-Go decision in Phase 3 if Phase 2 is skipped,
and (2) the probability of a No-Go in Phase 3 if a preceding Phase 2
trial is conducted and yields a Go decision. Specifically, we compute
the conditional assurance of Phase 3 given success in Phase 2.</p>
<p>The scenarios covered are as follows:</p>
<ol style="list-style-type: decimal">
<li>Two consecutive studies: phase 2 with a normal endpoint followed by
phase 3, with a time-to-event endpoint.</li>
</ol>
<p>Once CyneRgy is installed, you can load this example in RStudio with
the following commands:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">CyneRgy</span><span class="fu">::</span><span class="fu"><a href="../reference/RunExample.html">RunExample</a></span><span class="op">(</span> <span class="st">"ConsecutiveStudiesContinuousTimeToEvent"</span> <span class="op">)</span></span></code></pre></div>
<p>Running the command above will load the RStudio project in
RStudio.</p>
<p>In the <a href="https://github.com/Cytel-Inc/CyneRgy/tree/main/inst/Examples/ConsecutiveStudiesContinuousTimeToEvent/R" class="external-link">R
directory of this example</a> you will find the R files used in the
examples:</p>
<ol style="list-style-type: decimal">
<li>
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ConsecutiveStudiesContinuousTimeToEvent/R/SimulatePatientOutcomeNormalAssurance.R" class="external-link">SimulatePatientOutcomeNormalAssurance.R</a>
- Functions to simulate patient outcomes under a normal distribution
informed by mixture priors.</li>
<li>
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ConsecutiveStudiesContinuousTimeToEvent/R/AnalyzeUsingBayesianNormals.R" class="external-link">AnalyzeUsingBayesianNormals.R</a>
- Implements Bayesian analysis of simulated outcomes using normal
priors.</li>
<li>
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ConsecutiveStudiesContinuousTimeToEvent/R/SimulatePatientSurvivalAssuranceUsingPh2Prior.R" class="external-link">SimulatePatientSurvivalAssuranceUsingPh2Prior.R</a>
- This function simulates patient-level outcomes within a Bayesian
assurance framework.</li>
<li>
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ConsecutiveStudiesContinuousTimeToEvent/R/AnalyzeUsingBayesianNormals.R" class="external-link">AnalyzeSurvivalDataUsingCoxPH.R</a>
- Implements Bayesian analysis of simulated outcomes using Cox
proportional hazards model.</li>
</ol>
<p><strong>Note:</strong> This example builds on the <a href="BayesianAssuranceContinuous.html">Bayesian Assurance, Continuous
Outcome</a> and the <a href="BayesianAssuranceTimeToEvent.html">Bayesian
Assurance, Time-to-Event Outcome</a> examples, and utilizes some of the
same R code. Please refer to them for more information. The difference
is that we now have two different studies: Phase 3 is conducted
<strong>only</strong> if Phase 2 results in a Go decision.</p>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<hr>
</div>
<div class="section level2">
<h2 id="step-by-step-instructions">Step-by-Step Instructions<a class="anchor" aria-label="anchor" href="#step-by-step-instructions"></a>
</h2>
<p>Before starting, make sure you have the required tools and files.</p>
<ul>
<li><a href="https://platform.cytel.com" class="external-link">East Horizon</a></li>
<li>Download R Files from our public Github repo: <a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ConsecutiveStudiesContinuousTimeToEvent/R/SimulatePatientOutcomeNormalAssurance.R" class="external-link">SimulatePatientOutcomeNormalAssurance.R</a>,
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ConsecutiveStudiesContinuousTimeToEvent/R/AnalyzeUsingBayesianNormals.R" class="external-link">AnalyzeUsingBayesianNormals.R</a>,
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ConsecutiveStudiesContinuousTimeToEvent/R/SimulatePatientSurvivalAssuranceUsingPh2Prior.R" class="external-link">SimulatePatientSurvivalAssuranceUsingPh2Prior.R</a>,
and <a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ConsecutiveStudiesContinuousTimeToEvent/R/AnalyzeUsingBayesianNormals.R" class="external-link">AnalyzeSurvivalDataUsingCoxPH.R</a>.</li>
</ul>
<p>In this example, we will create two different projects: one for the
Phase 2 study and one for the Phase 3 study.</p>
<div class="section level3">
<h3 id="phase-2-study">Phase 2 Study<a class="anchor" aria-label="anchor" href="#phase-2-study"></a>
</h3>
<div class="section level4">
<h4 id="new-project-page">New Project Page<a class="anchor" aria-label="anchor" href="#new-project-page"></a>
</h4>
<ol style="list-style-type: decimal">
<li>On East Horizon, create a new project with a continuous
endpoint.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step1.png" width="800"></p>
</div>
<div class="section level4">
<h4 id="new-input-set-page">New Input Set Page<a class="anchor" aria-label="anchor" href="#new-input-set-page"></a>
</h4>
<ol start="2" style="list-style-type: decimal">
<li>Navigate to the Inputs tab, and create a new input set using the
Explore task.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step2.png" width="800"></p>
</div>
<div class="section level4">
<h4 id="design-page">Design Page<a class="anchor" aria-label="anchor" href="#design-page"></a>
</h4>
<ol start="3" style="list-style-type: decimal">
<li>Within the input set you just created, navigate to the Design page,
then select “User Specified – R” in the Test field.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step3.png" width="800"></p>
<ol start="4" style="list-style-type: decimal">
<li><p>Click the “+” icon next to “User Specified - R” to open the R
Integration pop-up window.</p></li>
<li><p>Click on “Select File” and then on “Continue”.</p></li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step5.png" width="800"></p>
<ol start="6" style="list-style-type: decimal">
<li><p>Upload and select the file
<strong>AnalyzeUsingBayesianNormals.R</strong>.</p></li>
<li><p>Check that the correct file has been imported and the correct
Function Name has been specified by the system. Note that the User
Parameter variables have been automatically pulled from the R function
that was imported. If the variables <strong>dPriorMeanCtrl</strong>,
<strong>dPriorStdDevCtrl</strong>, <strong>dPriorMeanExp</strong>, and
<strong>dPriorStdDevExp</strong> are missing, add them to the list using
the button “+ Add Variable”.</p></li>
<li><p>Fill the parameter values. In our case, we use the example values
below. See the <a href="#analysis-integration-point">Analysis
Integration Point</a> section of the phase 2 study below for more
information about these variables.</p></li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step8.png" width="800"></p>
<ol start="9" style="list-style-type: decimal">
<li>Click on the “Save” button to exit the R Integration details
window.</li>
</ol>
</div>
<div class="section level4">
<h4 id="response-page">Response Page<a class="anchor" aria-label="anchor" href="#response-page"></a>
</h4>
<ol start="9" style="list-style-type: decimal">
<li>Navigate to the Response page and the relevant response card, and
then select “User Specified – R” in the Distribution field.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step9.png" width="800"></p>
<ol start="10" style="list-style-type: decimal">
<li><p>Click on the “+” icon next to “User Specified - R” to open the R
Integration pop-up window.</p></li>
<li><p>Click on “Select File” and then on “Continue”.</p></li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step11.png" width="800"></p>
<ol start="12" style="list-style-type: decimal">
<li><p>Upload and select the file
<strong>SimulatePatientOutcomeNormalAssurance.R</strong>.</p></li>
<li><p>Check that the correct file has been imported and the correct
Function Name has been specified by the system. Note that the User
Parameter variables have been automatically pulled from the R function
that was imported.</p></li>
<li><p>Fill the parameter values. In our case, we use the example values
below. See the <a href="#response-integration-point">Response
Integration Point</a> section of the phase 2 study below for more
information about these variables.</p></li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step14.png" width="800"></p>
<ol start="15" style="list-style-type: decimal">
<li>Click on the “Save” button to exit the R Integration details
window.</li>
</ol>
</div>
<div class="section level4">
<h4 id="simulation-setup-page">Simulation Setup Page<a class="anchor" aria-label="anchor" href="#simulation-setup-page"></a>
</h4>
<ol start="16" style="list-style-type: decimal">
<li>Specify the number of simulation runs as needed. You can choose any
number you require. For the Phase 2 input set, it is recommended to run
as many simulations as possible (e.g., 20,000). This is because Phase 3
will only use data from successful Phase 2 trials, so the more
simulations you run, the larger the pool of usable trials for Phase
3.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step16.png" width="800"></p>
<ol start="17" style="list-style-type: decimal">
<li>Check the box to “Generate Data File for All Simulated Models”.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step17.png" width="800"></p>
<ol start="18" style="list-style-type: decimal">
<li>Click the “Save &amp; Simulate” button.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step18.png" width="800"></p>
<ol start="19" style="list-style-type: decimal">
<li>Confirm by clicking on “Simulate” in the pop-up window, and wait for
the simulation runs to finish.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step19.png" width="500"></p>
</div>
<div class="section level4">
<h4 id="results-page">Results Page<a class="anchor" aria-label="anchor" href="#results-page"></a>
</h4>
<ol start="20" style="list-style-type: decimal">
<li>Navigate to the Results tab, then check whether the Phase 2
simulation failed or was completed by looking at the Status column.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step20.png" width="800"></p>
<ol start="21" style="list-style-type: decimal">
<li>If the simulation failed, open the Log window to see if there are
any helpful error messages.</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>Click on the “?” icon in the top right corner of your screen.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step21a.png" width="800"></p>
<ol start="2" style="list-style-type: lower-alpha">
<li>Click on “Log”.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step21b.png" width="400"></p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Identify any errors that appear. For example:</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step21c.png" width="600"></p>
<ol start="22" style="list-style-type: decimal">
<li>If the simulation has completed, click on the Result name. If you
have multiple scenarios in your simulation, you will be prompted to
label at least one scenario from the list. Alternatively, you may also
skip this step by selecting the “Skip” button in the bottom left
corner.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step22.png" width="800"></p>
<ol start="23" style="list-style-type: decimal">
<li>The Explore page of the results appears. You will notice a checkbox
on the left side of each row in the table, below the heatmap. Click on
the box of model that generated the data using your prior distribution,
e.g.:</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step23.png" width="800"></p>
<ol start="24" style="list-style-type: decimal">
<li>Now click on Download dropdown menu, that is in the top right of the
screen, and Summary Statistics option. Wait until the file is downloaded
and rename it to <strong>Ph2_results.csv</strong>.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step24.png" width="800"></p>
</div>
</div>
<div class="section level3">
<h3 id="phase-3-study">Phase 3 Study<a class="anchor" aria-label="anchor" href="#phase-3-study"></a>
</h3>
<div class="section level4">
<h4 id="new-project-page-1">New Project Page<a class="anchor" aria-label="anchor" href="#new-project-page-1"></a>
</h4>
<ol start="25" style="list-style-type: decimal">
<li>On East Horizon, create a new project with a time-to-event
endpoint.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step25.png" width="800"> ### Files Page</p>
<ol start="26" style="list-style-type: decimal">
<li>Navigate to the Files page and click on the Inputs folder.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step26.png" width="800"></p>
<ol start="27" style="list-style-type: decimal">
<li>Click on “Upload” and select the file you just downloaded from East
Horizon. Alternatively, you can use the example file provided in the
<code>Outputs</code> directory of this example if you want to test the
workflow with our example data. Make sure the file is renamed to
“Ph2_results.csv” and placed in the Inputs folder if you intend to use
the R script as provided. If you prefer a different file name, you can
update the script accordingly.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step27.png" width="800"></p>
</div>
<div class="section level4">
<h4 id="new-input-set-page-1">New Input Set Page<a class="anchor" aria-label="anchor" href="#new-input-set-page-1"></a>
</h4>
<ol start="28" style="list-style-type: decimal">
<li>Navigate to the Inputs page and and create a new input set using the
Explore task.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step2.png" width="800"></p>
</div>
<div class="section level4">
<h4 id="design-page-1">Design Page<a class="anchor" aria-label="anchor" href="#design-page-1"></a>
</h4>
<ol start="29" style="list-style-type: decimal">
<li>Within the input set you just created, navigate to the Design page,
then select “User Specified – R” in the Test Statistic field.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step29.png" width="800"></p>
<ol start="30" style="list-style-type: decimal">
<li><p>Click the “+” icon next to “User Specified - R” to open the R
Integration pop-up window.</p></li>
<li><p>Click on “Select File” and then on “Continue”.</p></li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step5.png" width="800"></p>
<ol start="32" style="list-style-type: decimal">
<li><p>Upload and select the file
<strong>AnalyzeSurvivalDataUsingCoxPH.R</strong>.</p></li>
<li><p>Check that the correct file has been imported and the correct
Function Name has been specified by the system. Note that the User
Parameter variables have been automatically pulled from the R function
that was imported.</p></li>
<li><p>Fill the parameter values. In our case, we use the example values
below. See the <a href="#analysis-integration-point-1">Analysis
Integration Point</a> section of the phase 3 study below for more
information about these variables.</p></li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step34.png" width="800"></p>
<ol start="35" style="list-style-type: decimal">
<li>Click on the “Save” button to exit the R Integration details
window.</li>
</ol>
</div>
<div class="section level4">
<h4 id="response-page-1">Response Page<a class="anchor" aria-label="anchor" href="#response-page-1"></a>
</h4>
<ol start="36" style="list-style-type: decimal">
<li>Navigate to the Response page and the relevant response card of the
Phase 3 input set, and then select “User Specified – R” in the
Distribution field.</li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step36.png" width="800"></p>
<ol start="37" style="list-style-type: decimal">
<li><p>Click on the “+” icon next to “User Specified - R” to open the R
Integration pop-up window.</p></li>
<li><p>Click on “Select File” and then on “Continue”.</p></li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step5.png" width="800"></p>
<ol start="39" style="list-style-type: decimal">
<li><p>Upload and select the file
<strong>SimulatePatientSurvivalAssuranceUsingPh2Prior.R</strong>.</p></li>
<li><p>Check that the correct file has been imported and the correct
Function Name has been specified by the system. Note that the User
Parameter variables have been automatically pulled from the R function
that was imported.</p></li>
<li><p>Fill the parameter values. In our case, we use the example values
below. See the <a href="#response-integration-point-1">Response
Integration Point</a> section of the phase 3 study below for more
information about these variables.</p></li>
</ol>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/Step41.png" width="800"></p>
<ol start="42" style="list-style-type: decimal">
<li>Click on the “Save” button to exit the R Integration details
window.</li>
</ol>
</div>
<div class="section level4">
<h4 id="simulation-setup-page-1">Simulation Setup Page<a class="anchor" aria-label="anchor" href="#simulation-setup-page-1"></a>
</h4>
<ol start="43" style="list-style-type: decimal">
<li>Simulate the input set the same way as described before. See Steps
16 to 19 for more information. However, for Phase 3, we recommend
choosing a lower number of simulations (e.g., 5,000). This is because
the simulation will fail when specifying a number of simulation higher
than the number of successful Phase 2 trials.</li>
</ol>
</div>
<div class="section level4">
<h4 id="results-page-1">Results Page<a class="anchor" aria-label="anchor" href="#results-page-1"></a>
</h4>
<ol start="44" style="list-style-type: decimal">
<li>Load the results as described before (see steps 20 to 22 for more
information). In the Explore page of the results, hover over each cell
in the heatmap to see a summary of the outputs. Because of our custom R
scripts, the result “Power” is actually now equivalent to the
Conditional Probability of Success of the Phase 3 study, i.e., the
probability that Phase 3 succeeds given that Phase 2 succeeded.</li>
</ol>
<p>See the <a href="#results">Results</a> section below for more
information.</p>
<hr>
</div>
</div>
</div>
<div class="section level2">
<h2 id="technical-information-and-example-values">Technical Information and Example Values<a class="anchor" aria-label="anchor" href="#technical-information-and-example-values"></a>
</h2>
<div class="section level3">
<h3 id="phase-2-study-1">Phase 2 Study<a class="anchor" aria-label="anchor" href="#phase-2-study-1"></a>
</h3>
<p>This study considers a two-arm fixed sample design with normally
distributed outcomes
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>,
with 80 patients per treatment arm.</p>
<p>The figure below illustrates where this phase fits within the R
integration points of Cytel products, accompanied by flowcharts
outlining the general steps performed by the R code.</p>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<div class="section level4">
<h4 id="response-patient-simulation-integration-point">Response (Patient Simulation) Integration Point<a class="anchor" aria-label="anchor" href="#response-patient-simulation-integration-point"></a>
</h4>
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This endpoint is related to this R file:
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ConsecutiveStudiesContinuousTimeToEvent/R/SimulatePatientOutcomeNormalAssurance.R" class="external-link alert-link">SimulatePatientOutcomeNormalAssurance.R</a>
</p>
</div>
<p>This function simulates patient-level outcomes within a
<strong>Bayesian assurance framework</strong>, using a
<strong>two-component mixture prior</strong> to reflect uncertainty
about the true treatment effect. It allows for assessing the probability
of trial success (assurance) under uncertainty about the true treatment
effect. Information generated from this simulation will be used later
for the <a href="#analysis-integration-point">Analysis Integration
Point</a>.</p>
<p>In this example, the true treatment effect
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mi>E</mi></msub><mo>−</mo><msub><mi>μ</mi><mi>S</mi></msub></mrow><annotation encoding="application/x-tex">\mu_E - \mu_S</annotation></semantics></math>)
is sampled from a mixture of two normal priors:</p>
<ul>
<li>25% weight on
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>𝒩</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>,</mo><msup><mn>0.05</mn><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathcal{N}(0, 0.05^2)</annotation></semantics></math>.</li>
<li>75% weight on
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>𝒩</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0.7</mn><mo>,</mo><msup><mn>0.3</mn><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathcal{N}(0.7, 0.3^2)</annotation></semantics></math>.</li>
</ul>
<p>The control mean is fixed, while the experimental mean is computed as
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mtext mathvariant="normal">MeanCtrl</mtext><mo>+</mo><mtext mathvariant="normal">treatment effect</mtext></mrow><annotation encoding="application/x-tex">d\text{MeanCtrl} + \text{treatment effect}</annotation></semantics></math>.
Each patient’s response is then simulated from a normal distribution
corresponding to their assigned treatment group, with standard
deviations defined separately for each arm.</p>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>Refer to the table below for the definitions and values of the
user-defined parameters used in this example.</p>
<table class="table">
<colgroup>
<col width="20%">
<col width="60%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Definition</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>dWeight1</strong></td>
<td>Weight of prior component 1.</td>
<td>0.25</td>
</tr>
<tr class="even">
<td><strong>dWeight2</strong></td>
<td>Weight of prior component 2.</td>
<td>0.75</td>
</tr>
<tr class="odd">
<td><strong>dMean1</strong></td>
<td>Mean of prior component 1.</td>
<td>0</td>
</tr>
<tr class="even">
<td><strong>dMean2</strong></td>
<td>Mean of prior component 2.</td>
<td>0.7</td>
</tr>
<tr class="odd">
<td><strong>dSD1</strong></td>
<td>Standard deviation of prior component 1.</td>
<td>0.05</td>
</tr>
<tr class="even">
<td><strong>dSD2</strong></td>
<td>Standard deviation of prior component 2.</td>
<td>0.3</td>
</tr>
<tr class="odd">
<td><strong>dMeanCtrl</strong></td>
<td>Mean of control arm (experimental arm will be sampled).</td>
<td>0</td>
</tr>
<tr class="even">
<td><strong>dSDCtrl</strong></td>
<td>Standard deviation for control arm.</td>
<td>1.9</td>
</tr>
<tr class="odd">
<td><strong>dSDExp</strong></td>
<td>Standard deviation for experimental arm.</td>
<td>1.9</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="analysis-integration-point">Analysis Integration Point<a class="anchor" aria-label="anchor" href="#analysis-integration-point"></a>
</h4>
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This endpoint is related to this R file:
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ConsecutiveStudiesContinuousTimeToEvent/R/AnalyzeUsingBayesianNormals.R" class="external-link alert-link">AnalyzeUsingBayesianNormals.R</a>
</p>
</div>
<p>This function evaluates the <strong>posterior probability</strong>
that the experimental treatment arm is better than the control arm by
more than a clinically meaningful threshold, and returns a Go/No-Go
decision based on a cutoff
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>P</mi><mi>U</mi></msub><annotation encoding="application/x-tex">P_U</annotation></semantics></math>).
It uses information from the simulation that is generated by the <a href="#response-patient-simulation-integration-point">Response</a>
element of East Horizon’s simulation, explained above.</p>
<p>For patients receiving treatment
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi><mo>∈</mo><mo stretchy="false" form="prefix">{</mo><mtext mathvariant="normal">S</mtext><mo>,</mo><mtext mathvariant="normal">E</mtext><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">j \in \{\text{S}, \text{E}\}</annotation></semantics></math>
(S = standard/control, E = experimental), we assume the outcomes
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>∼</mo><mi>𝒩</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>μ</mi><mi>j</mi></msub><mo>,</mo><msup><mi>σ</mi><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">Y \sim \mathcal{N}(\mu_j, \sigma^2)</annotation></semantics></math>,
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>μ</mi><mi>j</mi></msub><annotation encoding="application/x-tex">\mu_j</annotation></semantics></math>
is an unknown mean and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>σ</mi><mn>2</mn></msup><annotation encoding="application/x-tex">\sigma^2</annotation></semantics></math>
is a known, fixed variance.</p>
<p>We assume <em>a priori</em> that:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mi>j</mi></msub><mo>∼</mo><mi>𝒩</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mi>j</mi></msub><mo>,</mo><msubsup><mi>τ</mi><mi>j</mi><mn>2</mn></msubsup><mo>=</mo><msup><mn>1000</mn><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo>,</mo><mspace width="1.0em"></mspace><mi>j</mi><mo>∈</mo><mo stretchy="false" form="prefix">{</mo><mtext mathvariant="normal">S</mtext><mo>,</mo><mtext mathvariant="normal">E</mtext><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">
\mu_j \sim \mathcal{N}(\theta_j, \tau_j^2 = 1000^2), \quad j \in \{\text{S}, \text{E}\}
</annotation></semantics></math></p>
<p>After observing
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics></math>
patients on treatment
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>j</mi><annotation encoding="application/x-tex">j</annotation></semantics></math>,
the posterior distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>μ</mi><mi>j</mi></msub><annotation encoding="application/x-tex">\mu_j</annotation></semantics></math>
becomes:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mi>j</mi></msub><mo>∣</mo><mover><mi>y</mi><mo accent="true">‾</mo></mover><mo>∼</mo><mi>𝒩</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>θ</mi><mi>j</mi><mo>*</mo></msubsup><mo>,</mo><msubsup><mi>τ</mi><mi>j</mi><mrow><mn>2</mn><mo>*</mo></mrow></msubsup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">
\mu_j \mid \bar{y} \sim \mathcal{N}(\theta_j^*, \tau_j^{2*})
</annotation></semantics></math></p>
<p>where:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>θ</mi><mi>j</mi><mo>*</mo></msubsup><mo>=</mo><mfrac><mrow><mfrac><msub><mi>θ</mi><mi>j</mi></msub><msubsup><mi>τ</mi><mi>j</mi><mn>2</mn></msubsup></mfrac><mo>+</mo><mfrac><mrow><mi>n</mi><mover><mi>y</mi><mo accent="true">‾</mo></mover></mrow><msup><mi>σ</mi><mn>2</mn></msup></mfrac></mrow><mrow><mfrac><mn>1</mn><msubsup><mi>τ</mi><mi>j</mi><mn>2</mn></msubsup></mfrac><mo>+</mo><mfrac><mi>n</mi><msup><mi>σ</mi><mn>2</mn></msup></mfrac></mrow></mfrac><mo>,</mo><mspace width="1.0em"></mspace><mtext mathvariant="normal">and</mtext><mspace width="1.0em"></mspace><mfrac><mn>1</mn><msubsup><mi>τ</mi><mi>j</mi><mrow><mn>2</mn><mo>*</mo></mrow></msubsup></mfrac><mo>=</mo><mfrac><mn>1</mn><msubsup><mi>τ</mi><mi>j</mi><mn>2</mn></msubsup></mfrac><mo>+</mo><mfrac><mi>n</mi><msup><mi>σ</mi><mn>2</mn></msup></mfrac></mrow><annotation encoding="application/x-tex">
\theta_j^* = \frac{\frac{\theta_j}{\tau_j^2} + \frac{n \bar{y}}{\sigma^2}}{\frac{1}{\tau_j^2} + \frac{n}{\sigma^2}}, \quad \text{and} \quad
\frac{1}{\tau_j^{2*}} = \frac{1}{\tau_j^2} + \frac{n}{\sigma^2}
</annotation></semantics></math></p>
<p>At the conclusion of the study, the posterior probability that the
experimental arm exceeds the control arm by more than the minimum
acceptable value (MAV) is calculated as:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ρ</mi><mo>=</mo><mo>Pr</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>μ</mi><mi>E</mi></msub><mo>&gt;</mo><msub><mi>μ</mi><mi>S</mi></msub><mo>+</mo><mtext mathvariant="normal">MAV</mtext><mo>∣</mo><mtext mathvariant="normal">data</mtext><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">
\rho = \Pr(\mu_E &gt; \mu_S + \text{MAV} \mid \text{data})
</annotation></semantics></math></p>
<p>The decision rule is as follows:</p>
<ul>
<li>If
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ρ</mi><mo>&gt;</mo><msub><mi>P</mi><mi>U</mi></msub><mo>→</mo></mrow><annotation encoding="application/x-tex">\rho &gt; P_U \rightarrow</annotation></semantics></math>
Go.</li>
<li>If
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ρ</mi><mo>≤</mo><msub><mi>P</mi><mi>U</mi></msub><mo>→</mo></mrow><annotation encoding="application/x-tex">\rho \leq P_U \rightarrow</annotation></semantics></math>
No-Go.</li>
</ul>
<p>For this study, the <em>MAV</em> is set to 0.6 and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>P</mi><mi>U</mi></msub><annotation encoding="application/x-tex">P_U</annotation></semantics></math>
to 0.8. Refer to the table below for all the definitions and values of
the user-defined parameters used in this example.</p>
<table class="table">
<colgroup>
<col width="27%">
<col width="54%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Definition</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>dPriorMeanCtrl</strong></td>
<td>Prior mean for control arm.</td>
<td>0</td>
</tr>
<tr class="even">
<td><strong>dPriorStdDevCtrl</strong></td>
<td>Prior standard deviation for control arm.</td>
<td>1000</td>
</tr>
<tr class="odd">
<td><strong>dPriorMeanExp</strong></td>
<td>Prior mean for experimental arm.</td>
<td>0</td>
</tr>
<tr class="even">
<td><strong>dPriorStdDevExp</strong></td>
<td>Prior standard deviation for experimental arm.</td>
<td>1000</td>
</tr>
<tr class="odd">
<td><strong>dSigma</strong></td>
<td>Known sampling standard deviation.</td>
<td>1.9</td>
</tr>
<tr class="even">
<td><strong>dMAV</strong></td>
<td>Minimum Acceptable Value (clinically meaningful difference).</td>
<td>0.6</td>
</tr>
<tr class="odd">
<td><strong>dPU</strong></td>
<td>Go threshold (posterior probability cutoff).</td>
<td>0.8</td>
</tr>
<tr class="even">
<td><strong>dPUFutility</strong></td>
<td>Threshold probability of futility stopping. If the predictive
probability of a No Go decision at the end exceeds this value, the trial
is stopped early for futility.</td>
<td>0.8</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="phase-3-study-1">Phase 3 Study<a class="anchor" aria-label="anchor" href="#phase-3-study-1"></a>
</h3>
<p>This study considers a two-arm fixed sample design with a
time-to-event endpoint, with 300 patients per arm.</p>
<p>The figure below illustrates where the integration points used in
this study fit within the R integration points of Cytel products,
accompanied by flowcharts outlining the general steps performed by the R
code.</p>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<div class="section level4">
<h4 id="response-patient-simulation-integration-point-1">Response (Patient Simulation) Integration Point<a class="anchor" aria-label="anchor" href="#response-patient-simulation-integration-point-1"></a>
</h4>
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This endpoint is related to this R file:
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ConsecutiveStudiesContinuousTimeToEvent/R/SimulatePatientSurvivalAssuranceUsingPh2Prior.R" class="external-link alert-link">SimulatePatientSurvivalAssuranceUsingPh2Prior.R</a>
</p>
</div>
<p>This function simulates patient-level outcomes within a
<strong>Bayesian assurance framework</strong>. The relationship between
the continuous endpoint in Phase 2 and the time-to-event endpoint in
Phase 3 is modeled using a linear function:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>log</mo><msub><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">True HR</mtext><mo stretchy="true" form="postfix">)</mo></mrow><mtext mathvariant="normal">Phase 3</mtext></msub><mo>=</mo><mn>0.1</mn><mo>−</mo><mn>0.4</mn><mo>×</mo><msub><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">True Treatment Difference</mtext><mo stretchy="true" form="postfix">)</mo></mrow><mtext mathvariant="normal">Phase 2</mtext></msub></mrow><annotation encoding="application/x-tex"> 
\log(\text{True HR})_{\text{Phase 3}} = 0.1 - 0.4 \times (\text{True Treatment Difference})_{\text{Phase 2}}
</annotation></semantics></math></p>
<p>Note that this relationship is defined in terms of the true treatment
effects. Since Phase 2 informs the prior on the true treatment
difference and a direct link is established between the true difference
and the true hazard ratio, there is no need to specify a separate prior
for the true HR as done in the <a href="BayesianAssuranceTimeToEvent.html">Bayesian Assurance,
Time-to-Event Outcome</a> example.</p>
<p>Both conditional and unconditional Phase 3 simulations use an R
initialization function to <strong>load Phase 2 output and extract the
true treatment differences</strong>. These values are then converted to
the log of the true hazard ratio (HR) using the <strong>linear link
function</strong>. Note that while unconditional assurance could be
calculated by sampling directly from the Phase 2 prior, reading the
saved values ensures a consistent comparison between conditional and
unconditional assurance. This approach provides a more accurate
assessment of the benefit of conducting a Phase 2 trial before Phase
3.</p>
<p>In the R code, note that the <code>&lt;&lt;-</code> operator is used
to define two global variables:</p>
<ul>
<li>
<code>vPrior</code>: a vector containing the true treatment
differences.</li>
<li>
<code>nSimIndex</code>: an index tracking the current replication
being executed during the Phase 3 simulation. This value is updated with
each simulation iteration.</li>
</ul>
<p>Refer to the table below for the definitions and values of the
user-defined parameters used in this example.</p>
<table class="table">
<colgroup>
<col width="20%">
<col width="60%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Definition</strong></th>
<th><strong>Value</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>dMeanTTECtrl</strong></td>
<td>Mean time-to-event for the control group.</td>
<td>12</td>
</tr>
<tr class="even">
<td><strong>dIntercept</strong></td>
<td>Intercept for the linear relationship between true treatment
difference and log(HR).</td>
<td>0.1</td>
</tr>
<tr class="odd">
<td><strong>dSlope</strong></td>
<td>Slope for the linear relationship between true treatment difference
and log(HR).</td>
<td>-0.4</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="analysis-integration-point-1">Analysis Integration Point<a class="anchor" aria-label="anchor" href="#analysis-integration-point-1"></a>
</h4>
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This endpoint is related to this R file:
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/ConsecutiveStudiesContinuousTimeToEvent/R/AnalyzeSurvivalDataUsingCoxPH.R" class="external-link alert-link">AnalyzeSurvivalDataUsingCoxPH.R</a>
</p>
</div>
<p>A single analysis is conducted once 50% of patients have experienced
the event of interest. Using the function in the file, the analysis
employs a <strong>Cox proportional hazards model</strong>, with a hazard
ratio (HR) less than 1 indicating a benefit in favor of the experimental
arm. It uses information from the simulation that is generated by the <a href="#response-patient-simulation-integration-point-1">Response</a>
element of East Horizon’s simulation, explained above. A Go decision is
made if the resulting p-value is less than or equal to 0.025.</p>
<p>Refer to the table below for the definitions of the user-defined
parameters used in this example.</p>
<table class="table">
<colgroup>
<col width="33%">
<col width="66%">
</colgroup>
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Definition</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>bReturnLogTrueHazard</strong></td>
<td>If <code>True</code>, the function returns the natural logarithm of
the true hazard ratio instead of its raw value.</td>
</tr>
<tr class="even">
<td><strong>bReturnNAForNoGoTrials</strong></td>
<td>If <code>True</code> and the trial does not meet the Go decision
criterion, the function returns <code>NA</code> for the hazard
ratio.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="results">Results<a class="anchor" aria-label="anchor" href="#results"></a>
</h3>
<p>For the phase 2 study independently, the probability of a Go is 26.9%
and the probability of a No-Go is 73.1%.</p>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<p>For the phase 3 study independently, the unconditional probability of
a Go decision is 29% and the unconditional probability of a No-Go
Decision is 71%. The 95% posterior credible for the Log( True HR ) is
(-<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>∞</mi><annotation encoding="application/x-tex">\infty</annotation></semantics></math>,
0.12 ). The posterior distribution of the true Log( HR ) given a Go
decision is:</p>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>If the two studies are run sequentially, conducting Phase 3 only if
Phase 2 results in a Go decision, the probability of a Go decision is
60% and the unconditional probability of a No-Go Decision is 40%. The
95% posterior credible for the Log( True HR ) is (-0.46, -0.08). The
posterior distribution of the true Log( HR ) given a Phase 3 Go decision
is:</p>
<p><img src="ConsecutiveStudiesContinuousTimeToEvent_files/figure-html/unnamed-chunk-13-1.png" width="700"></p>
<p>Comparing the option of running only a Phase 3 versus a Phase 2
followed by a Phase 3 if Phase 2 is successful, the probability of Go in
phase 3 increases from <strong>29%</strong> to <strong>60%</strong> and
the probability of a No-Go in Phase 3 decreases from
<strong>71%</strong> to <strong>40%</strong>.</p>
</div>
</div>
<div class="section level2">
<h2 id="see-also">See Also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
<p>Other relevant examples include:</p>
<ul>
<li><a href="BayesianAssuranceContinuous.html">Bayesian Assurance,
Continuous Outcome</a></li>
<li><a href="BayesianAssuranceTimeToEvent.html">Bayesian Assurance,
Time-to-Event Outcome</a></li>
<li><a href="ConsecutiveStudiesContinuous.html">Consecutive Studies,
Continuous Outcome</a></li>
<li><a href="ConsecutiveStudiesBinary.html">Consecutive Studies, Binary
Outcome</a></li>
<li><a href="ProbabilitySuccessDualEndpoints.html">Probability of
Success, Dual Endpoints</a></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by J. Kyle Wathen, Valeria A. G. Mazzanti, Gabriel Potvin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
