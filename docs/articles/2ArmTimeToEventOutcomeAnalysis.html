<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>2-Arm, Time-To-Event Outcome - Analysis • CyneRgy</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_3-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="2-Arm, Time-To-Event Outcome - Analysis">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CyneRgy</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.9</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-getting-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Getting Started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-getting-started">
<li><a class="dropdown-item" href="../articles/Overview.html">Overview</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Integration Specific Points</h6></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointInitialization.html">Initialization</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointAnalysis.html">Analysis (Test Statistic)</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointEnrollment.html">Enrollment (Arrival Times)</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointRandomization.html">Randomization</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointResponse.html">Response (Patient Simulation)</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointDropout.html">Dropout</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointTreatmentSelection.html">Treatment Selection</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointMultiplicityAdjustment.html">Multiplicity Adjustment</a></li>
    <li><a class="dropdown-item" href="../articles/IntegrationPointDesign.html">Design</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/ExampleOutline.html">Examples</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">References</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/ContributingToCyneRgy.html">Contribute</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Cytel-Inc/CyneRgy"><span class="fa fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>2-Arm, Time-To-Event Outcome - Analysis</h1>
                        <h4 data-toc-skip class="author">Anoop Singh
Rawat, Shubham Lahoti, and Gabriel Potvin</h4>
            
            <h4 data-toc-skip class="date">January 09, 2026</h4>
      

      <div class="d-none name"><code>2ArmTimeToEventOutcomeAnalysis.Rmd</code></div>
    </div>

    
    
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This example is related to the
<a href="IntegrationPointAnalysisTimeToEvent.html" class="alert-link"><strong>Integration
Point: Analysis - Time-to-Event Outcome</strong></a>. Click the link for
setup instructions, variable details, and additional information about
this integration point.
</p>
</div>
<div class="alert alert-danger" role="alert">
To try this example, create a new project in East Horizon using the
following configuration:
<ul style="margin-bottom:0">
<li>
<strong>Study objective:</strong> Two Arm Confirmatory
</li>
<li>
<strong>Number of endpoints:</strong> Single Endpoint
</li>
<li>
<strong>Endpoint type:</strong> Time-to-Event Outcome
</li>
<li>
<strong>Task:</strong> Any
</li>
<li>
<strong>Statistical Design:</strong>
</li>
<ul style="margin-bottom:0">
<li>
<em>Fixed Sample</em> or <em>Group Sequential</em> for Examples 1, 2, 3,
5, and 6
</li>
<li>
<em>Group Sequential with Sample Size Re-Estimation</em> for Example 4
</li>
</ul>
<li>
<strong>Stratification turned on</strong>: For Examples 5 and 6
</li>
<li>
<strong>Subpopulations turned on</strong>: For Example 6
</li>
</ul>
</div>
<div class="alert alert-warning" role="alert">
<p style="margin-bottom:0">
<strong>Note:</strong> Examples 1, 2, 3, 5, and 6 are compatible with
both <em>Fixed Sample</em> and <em>Group Sequential</em> statistical
designs. The R code automatically detects whether interim look
information (<em>LookInfo</em>) is available and adjusts the analysis
parameters accordingly.
</p>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The following examples illustrate how to integrate new analysis
capabilities into East Horizon or East using R functions in the context
of a two-arm trial. In each example, the trial design includes a
standard-of-care control arm and an experimental treatment arm, with
patient outcomes modeled as time-to-event data. The design includes two
interim analyses (IA) and one final analysis (FA). At each IA, an
analysis is conducted which may lead to early stopping for efficacy or
futility, depending on the predefined design criteria.</p>
<p>Once CyneRgy is installed, you can load this example in RStudio with
the following commands:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">CyneRgy</span><span class="fu">::</span><span class="fu"><a href="../reference/RunExample.html">RunExample</a></span><span class="op">(</span> <span class="st">"2ArmTimeToEventOutcomeAnalysis"</span> <span class="op">)</span></span></code></pre></div>
<p>Running the command above will load the RStudio project in
RStudio.</p>
<p><strong>RStudio Project File</strong>: <a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmTimeToEventOutcomeAnalysis/2ArmTimeToEventOutcomeAnalysis.Rproj" class="external-link">2ArmTimeToEventOutcomeAnalysis.Rproj</a></p>
<p>In the <a href="https://github.com/Cytel-Inc/CyneRgy/tree/main/inst/Examples/2ArmTimeToEventOutcomeAnalysis/R" class="external-link">R
directory of this example</a> you will find the following R files:</p>
<ol style="list-style-type: decimal">
<li><p><a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmTimeToEventOutcomeAnalysis/R/AnalyzeUsingEastLogrankFormula.R" class="external-link">AnalyzeUsingEastLogrankFormula.R</a>
- Contains a function named <em>AnalyzeUsingEastLogrankFormula.R</em>
that computes the test statistic for a TTE endpoint using Formulas of
Appendix Q.8 from the East manual.</p></li>
<li><p><a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmTimeToEventOutcomeAnalysis/R/AnalyzeUsingSurvivalPackage.R" class="external-link">AnalyzeUsingSurvivalPackage.R</a>
- Contains a function named <em>AnalyzeUsingSurvivalPackage</em> that
performs the analysis the R package <code>survival</code>.</p></li>
<li><p><a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmTimeToEventOutcomeAnalysis/R/AnalyzeUsingHazardRatioLimitsOfCI.R" class="external-link">AnalyzeUsingHazardRatioLimitsOfCI.R</a>
- Contains a function named <em>AnalyzeUsingHazardRatioLimitsOfCI</em>
that bases interim and final decisions on confidence interval limits
rather than East Horizon-provided boundaries. The function uses
user-defined parameters (MAV, TV, and confidence level) to implement a
Go / No-Go decision framework.</p></li>
<li><p><a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmTimeToEventOutcomeAnalysis/R/AnalyzeTTESSR.R" class="external-link">AnalyzeTTESSR.R</a>
- Contains a function named <em>AnalyzeTTESSR</em> that extends the
standard TTE analysis to support conditional power–based sample size
re-estimation (SSR) in a group sequential design.</p></li>
<li><p><a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmTimeToEventOutcomeAnalysis/R/AnalyzeStratification.R" class="external-link">AnalyzeStratification.R</a>
- Contains a function named <em>AnalyzeStratification</em> that extends
the standard TTE analysis to support stratification.</p></li>
<li><p><a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmTimeToEventOutcomeAnalysis/R/AnalyzeSubpopulation.R" class="external-link">AnalyzeSubpopulation.R</a>
- Contains a function named <em>AnalyzeSubpopulation</em> that extends
the standard TTE analysis to support subpopulations.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="example-1---using-formulas-q-242-and-q-243-from-the-east-manual">Example 1 - Using Formulas Q.242 and Q.243 from the East manual<a class="anchor" aria-label="anchor" href="#example-1---using-formulas-q-242-and-q-243-from-the-east-manual"></a>
</h2>
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This example is related to this R file:
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmTimeToEventOutcomeAnalysis/R/AnalyzeUsingEastLogrankFormula.R" class="external-link alert-link">AnalyzeUsingEastLogrankFormula.R</a>
</p>
</div>
<p>In this example, the analysis is customized by replacing the default
method with a user-defined calculation based on formulas of the
<strong>Appendix Q.8 - Survival : Two Samples</strong> from the East
manual (Q.242 and Q.243).</p>
<p><strong>Numerator of Test Statistic:</strong></p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">Num</mtext><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><msub><mi>W</mi><mi>i</mi></msub><mo>⋅</mo><msub><mtext mathvariant="normal">Num</mtext><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\text{Num} = \sum_{i=1}^M W_i \cdot \text{Num}_i</annotation></semantics></math></p>
<p>With:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext mathvariant="normal">Num</mtext><mi>i</mi></msub><mo>=</mo><msub><mi>d</mi><mrow><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>−</mo><msub><mi>n</mi><mrow><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>⋅</mo><mfrac><msub><mi>d</mi><mi>i</mi></msub><msub><mi>n</mi><mi>i</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">\text{Num}_i = d_{i,t} - n_{i,t} \cdot \frac{d_i}{n_i}</annotation></semantics></math></p>
<p>Where:</p>
<ul>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>i</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_i = 1</annotation></semantics></math>
is the weight for the Logrank Test.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>d</mi><mrow><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><annotation encoding="application/x-tex">d_{i,t}</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>d</mi><mrow><mi>i</mi><mo>,</mo><mi>c</mi></mrow></msub><annotation encoding="application/x-tex">d_{i,c}</annotation></semantics></math>
are the numbers of events at time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mi>i</mi></msub><annotation encoding="application/x-tex">t_i</annotation></semantics></math>
in the treatment and control groups, respectively.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>n</mi><mrow><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><annotation encoding="application/x-tex">n_{i,t}</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>n</mi><mrow><mi>i</mi><mo>,</mo><mi>c</mi></mrow></msub><annotation encoding="application/x-tex">n_{i,c}</annotation></semantics></math>
are the numbers of subjects at risk just before time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mi>i</mi></msub><annotation encoding="application/x-tex">t_i</annotation></semantics></math>
in the treatment and control groups, respectively.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>i</mi></msub><mo>=</mo><msub><mi>d</mi><mrow><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>d</mi><mrow><mi>i</mi><mo>,</mo><mi>c</mi></mrow></msub></mrow><annotation encoding="application/x-tex">d_i = d_{i,t} + d_{i,c}</annotation></semantics></math>
is the total number of events at time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mi>i</mi></msub><annotation encoding="application/x-tex">t_i</annotation></semantics></math>.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>i</mi></msub><mo>=</mo><msub><mi>n</mi><mrow><mi>i</mi><mo>,</mo><mi>c</mi></mrow></msub><mo>+</mo><msub><mi>n</mi><mrow><mi>i</mi><mo>,</mo><mi>c</mi></mrow></msub></mrow><annotation encoding="application/x-tex">n_i = n_{i,c} + n_{i,c}</annotation></semantics></math>
is the total number of subjects at risk just before time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mi>i</mi></msub><annotation encoding="application/x-tex">t_i</annotation></semantics></math>.</li>
</ul>
<p><strong>Denominator of Test Statistic:</strong></p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">Den</mtext><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><msubsup><mi>W</mi><mi>i</mi><mn>2</mn></msubsup><mo>⋅</mo><msub><mtext mathvariant="normal">Den</mtext><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\text{Den} = \sum_{i=1}^MW_i^2 \cdot \text{Den}_i</annotation></semantics></math></p>
<p>With:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext mathvariant="normal">Den</mtext><mi>i</mi></msub><mo>=</mo><mfrac><mrow><msub><mi>n</mi><mrow><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>⋅</mo><msub><mi>n</mi><mrow><mi>i</mi><mo>,</mo><mi>c</mi></mrow></msub><mo>⋅</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>n</mi><mi>i</mi></msub><mo>−</mo><msub><mi>d</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>⋅</mo><msub><mi>d</mi><mi>i</mi></msub></mrow><mrow><msubsup><mi>n</mi><mi>i</mi><mn>2</mn></msubsup><mo>⋅</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>n</mi><mi>i</mi></msub><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{Den}_i = \frac{n_{i,t} \cdot n_{i,c} \cdot (n_i - d_i) \cdot d_i}{n_i^2 \cdot (n_i - 1)}</annotation></semantics></math></p>
<p>The objective is to demonstrate a straightforward way to modify both
the analysis and decision-making process. The computed test statistic is
compared to the efficacy boundary provided by East Horizon or East as
input. This example does not include a futility rule and does not use
any user-defined parameters.</p>
<p>The figure below illustrates where this example fits within the R
integration points of Cytel products, accompanied by a flowchart
outlining the general steps performed by the R code.</p>
<p><img src="2ArmTimeToEventOutcomeAnalysis_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="example-2---using-the-survivalsurvdiff-function">Example 2 - Using the <code>survival::survdiff()</code>
Function<a class="anchor" aria-label="anchor" href="#example-2---using-the-survivalsurvdiff-function"></a>
</h2>
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This example is related to this R file:
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmTimeToEventOutcomeAnalysis/R/AnalyzeUsingSurvivalPackage.R" class="external-link alert-link">AnalyzeUsingSurvivalPackage.R</a>
</p>
</div>
<p>This example utilizes the <code><a href="https://rdrr.io/pkg/survival/man/survdiff.html" class="external-link">survival::survdiff()</a></code> function
from the <code>survival</code> package to perform the log-rank test. The
resulting chi-square statistic is used to compute the log-rank value,
which is then compared to the lower efficacy boundary provided by East
Horizon or East. Like Example 1, this example does not include a
futility rule and does not use any user-defined parameters.</p>
<p>The figure below illustrates where this example fits within the R
integration points of Cytel products, accompanied by a flowchart
outlining the general steps performed by the R code.</p>
<p><img src="2ArmTimeToEventOutcomeAnalysis_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="example-3---utilization-of-confidence-interval-limits-for-gono-go-decision-making">Example 3 - Utilization of Confidence Interval Limits for Go/No-Go
Decision-Making<a class="anchor" aria-label="anchor" href="#example-3---utilization-of-confidence-interval-limits-for-gono-go-decision-making"></a>
</h2>
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This example is related to this R file:
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmTimeToEventOutcomeAnalysis/R/AnalyzeUsingHazardRatioLimitsOfCI.R)" class="external-link alert-link">AnalyzeUsingHazardRatioLimitsOfCI.R</a>
</p>
</div>
<p>In many Phase II trials, Go/No-Go decisions are made based on whether
a treatment shows sufficient promise to justify further development.
These decisions are often guided by two key thresholds:</p>
<ul>
<li>
<strong>Minimum Acceptable Value (MAV)</strong>: The smallest
treatment effect (e.g., hazard ratio) considered meaningful.</li>
<li>
<strong>Target Value (TV)</strong>: A highly desirable treatment
effect based on clinical or strategic considerations.</li>
</ul>
<p>This example demonstrates how to approximate probabilistic
decision-making using frequentist confidence intervals (CIs), ignoring
the boundaries provided by East Horizon or East in favor of a CI-based
logic. If the hazard ratio is likely to be below the MAV, a Go decision
is made. If not, and it is unlikely to be below the TV, a No-Go decision
is made.</p>
<p>We use the Cox proportional hazards model via the
<code><a href="https://rdrr.io/pkg/survival/man/coxph.html" class="external-link">survival::coxph()</a></code> function to estimate the log hazard ratio
(log HR) and its standard error. Based on these estimates, frequentist
CIs are constructed to inform decision-making. Specifically:</p>
<p><strong>At Interim Analysis</strong></p>
<ul>
<li>Let LL and UL be the lower and upper limits of the confidence
interval for the log HR.</li>
<li>If
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mi>L</mi><mo>&lt;</mo><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">MAV</mtext><mo stretchy="true" form="postfix">)</mo></mrow><mo>→</mo><mtext mathvariant="normal">Go</mtext></mrow><annotation encoding="application/x-tex">UL &lt; \log(\text{MAV}) \rightarrow \text{Go}</annotation></semantics></math>
</li>
<li>If
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>L</mi><mo>&gt;</mo><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">TV</mtext><mo stretchy="true" form="postfix">)</mo></mrow><mo>→</mo><mtext mathvariant="normal">No-Go</mtext></mrow><annotation encoding="application/x-tex">LL &gt; \log(\text{TV}) \rightarrow \text{No-Go}</annotation></semantics></math>
</li>
<li>Otherwise
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math>
Continue to the next analysis</li>
</ul>
<p><strong>At Final Analysis</strong></p>
<ul>
<li>If
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mi>L</mi><mo>&lt;</mo><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">MAV</mtext><mo stretchy="true" form="postfix">)</mo></mrow><mo>→</mo><mtext mathvariant="normal">Go</mtext></mrow><annotation encoding="application/x-tex">UL &lt; \log(\text{MAV}) \rightarrow \text{Go}</annotation></semantics></math>
</li>
<li>Otherwise
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math>
No-Go</li>
</ul>
<p>Refer to the table below for the definitions of the user-defined
parameters used in this example.</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="75%">
</colgroup>
<thead><tr class="header">
<th><strong>User parameter</strong></th>
<th><strong>Definition</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>dMAV</strong></td>
<td>Minimum Acceptable Value: the smallest treatment effect considered
clinically meaningful to warrant further development.</td>
</tr>
<tr class="even">
<td><strong>dTV</strong></td>
<td>Target Value: the desired treatment effect that would represent a
strong clinical benefit or strategic advantage.</td>
</tr>
<tr class="odd">
<td><strong>dConfLevel</strong></td>
<td>Confidence Level: the level of confidence used to construct the
confidence interval for Go/No-Go decision-making (e.g., 0.80 for an 80%
CI).</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> In this example, the boundary information that
is computed in East Horizon or East is ignored. User-defined parameters
and the Cox model are used to analyze the data and compute the desired
confidence intervals.</p>
<p>The figure below illustrates where this example fits within the R
integration points of Cytel products, accompanied by a flowchart
outlining the general steps performed by the R code.</p>
<p><img src="2ArmTimeToEventOutcomeAnalysis_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="example-4---analysis-with-sample-size-re-estimation">Example 4 - Analysis With Sample Size Re-Estimation<a class="anchor" aria-label="anchor" href="#example-4---analysis-with-sample-size-re-estimation"></a>
</h2>
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This example is related to this R file:
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmTimeToEventOutcomeAnalysis/R/AnalyzeTTESSR.R" class="external-link alert-link">AnalyzeTTESSR.R</a>
</p>
</div>
<p>This example illustrates how to customize the analysis when using
<code>Statistical Design = Group Sequential with Sample Size Re-Estimation</code>
in East Horizon. The key difference from the previous examples is that
the analysis function is responsible not only for producing a test
statistic and interim decision, but also for computing a re-estimated
total number of events based on interim results. This is achieved using
a conditional power–based SSR approach, which allows the trial to
increase its planned number of events when interim results fall within a
“promising zone”.</p>
<p><strong>Test Statistic:</strong></p>
<p>At each interim look, the analysis time is determined based on the
target cumulative number of events implied by the current information
fraction. Survival data are censored at this analysis time, and a
log-rank–style standardized Z-statistic is computed based on the
observed and expected number of events in the treatment arm:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>=</mo><mfrac><mrow><msub><mi>O</mi><mi>T</mi></msub><mo>−</mo><msub><mi>E</mi><mi>T</mi></msub></mrow><msqrt><mrow><mtext mathvariant="normal">Var</mtext><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>O</mi><mi>T</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></msqrt></mfrac></mrow><annotation encoding="application/x-tex">Z = \frac{O_T - E_T}{\sqrt{ \text{Var}(O_T) }}</annotation></semantics></math></p>
<p>where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>O</mi><mi>T</mi></msub><annotation encoding="application/x-tex">O_T</annotation></semantics></math>
is the observed number of events in the treatment arm,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>E</mi><mi>T</mi></msub><annotation encoding="application/x-tex">E_T</annotation></semantics></math>
is the expected number of events under the null hypothesis, and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">Var</mtext><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>O</mi><mi>T</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\text{Var}(O_T)</annotation></semantics></math>
is the corresponding variance. Under the proportional hazards
assumption, this statistic is asymptotically standard normal.</p>
<p>In addition, a Cox proportional hazards model is fit to the observed
data to estimate the hazard ratio (HR) between treatment and control
arms.</p>
<p><strong>Conditional Power:</strong></p>
<p>Using the observed Z-statistic, the information fraction at the
current look, and the efficacy boundary provided by East Horizon, the
conditional power is computed. This represents the probability of
eventually crossing the final efficacy boundary, given the interim data
and assuming the observed treatment effect continues for the remainder
of the trial.</p>
<p><strong>Sample Size Re-Estimation (SSR):</strong></p>
<p>Based on the computed conditional power, the total number of events
is re-estimated using one of two SSR rules:</p>
<table class="table">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th>Condition</th>
<th>Rule</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>The SSR function scale for promising zone selected in East Horizon
is “Continuous” (<code>AdaptInfo$SSRFuncScale == 0</code>)</td>
<td>If the conditional power falls between the lower and upper
promising-zone thresholds selected in East Horizon
(<code>AdaptInfo$PromZoneMin</code> and
<code>AdaptInfo$PromZoneMax</code>), the maximum number of event is
multiplied by the maximum sample size multiplier input specified in East
Horizon (<code>AdaptInfo$MaxSSMultInp$MaxSSMult</code>).</td>
</tr>
<tr class="even">
<td>The SSR function scale for promising zone selected in East Horizon
is “Step” (<code>AdaptInfo$SSRFuncScale == 1</code>)</td>
<td>The conditional power is mapped to intervals specified in East
Horizon (<code>AdaptInfo$MaxSSMultInp$From</code>,
<code>AdaptInfo$MaxSSMultInp$To</code>), each associated with a specific
sample size multiplier specified in East Horizon
(<code>AdaptInfo$MaxSSMultInp$MaxSSMult</code>).</td>
</tr>
</tbody>
</table>
<p>If the conditional power falls outside the promising zone, the
original planned number of events is retained.</p>
<p>Finally, the Z-statistic is compared against the efficacy boundary
provided by East Horizon. At interim looks, crossing the boundary
results in an early efficacy decision, while at the final look a lack of
boundary crossing results in a futility decision. Both the decision and
the re-estimated total number of events (<code>ReEstEvents</code>) are
returned to East Horizon.</p>
<p>The figure below illustrates where this example fits within the R
integration points of Cytel products, accompanied by a flowchart
outlining the general steps performed by the R code.</p>
<p><img src="2ArmTimeToEventOutcomeAnalysis_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="example-5---analysis-with-stratification">Example 5 - Analysis with Stratification<a class="anchor" aria-label="anchor" href="#example-5---analysis-with-stratification"></a>
</h2>
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This example is related to this R file:
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmTimeToEventOutcomeAnalysis/R/AnalyzeStratification.R" class="external-link alert-link">AnalyzeStratification.R</a>
</p>
</div>
<p>This example illustrates how to customize the analysis when turning
on <code>Stratification</code> in East Horizon. Stratification is
commonly used to adjust for prognostic baseline covariates and to
improve the efficiency and interpretability of treatment comparisons in
confirmatory trials.</p>
<p>In this implementation, the look timing and decision boundaries
continue to be controlled by East Horizon, while the test statistic and
hazard ratio are computed using a stratified log-rank approach in R.</p>
<p><strong>Analysis Overview</strong></p>
<p>At each interim or final analysis, the function:</p>
<ol style="list-style-type: decimal">
<li>Determines the target number of events corresponding to the current
look.</li>
<li>Censors the data at the analysis time implied by this target.</li>
<li>Constructs a stratified log-rank test using the stratification
factors specified in the study design.</li>
<li>Fits a stratified Cox proportional hazards model to estimate the
hazard ratio (HR).</li>
<li>Compares the standardized test statistic to the efficacy boundary
supplied by East Horizon.</li>
</ol>
<p>The stratification factors defined in East Horizon
(<code>DesignParam$TestStratFactors</code>) are used.</p>
<p><strong>Test Statistic</strong></p>
<p>The stratified log-rank test is implemented using
<code><a href="https://rdrr.io/pkg/survival/man/survdiff.html" class="external-link">survival::survdiff()</a></code> with strata terms dynamically
constructed from the design inputs. The chi-square statistic returned by
the function is converted to a signed Z-statistic:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>=</mo><mi>±</mi><msqrt><msup><mi>χ</mi><mn>2</mn></msup></msqrt></mrow><annotation encoding="application/x-tex">Z = \pm \sqrt{\chi^2}</annotation></semantics></math></p>
<p>The sign of the statistic is determined by the estimated hazard
ratio:</p>
<ul>
<li>If
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">HR</mtext><mo>&lt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\text{HR} \lt 1</annotation></semantics></math>,
the statistic is negative (favoring treatment).</li>
<li>If
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">HR</mtext><mo>≥</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\text{HR} \ge 1</annotation></semantics></math>,
the statistic is positive.</li>
</ul>
<p>Finally, the Z-statistic is compared against the efficacy boundary
provided by East Horizon. At interim looks, crossing the boundary
results in an early efficacy decision, while at the final look a lack of
boundary crossing results in a futility decision.</p>
<p>The figure below illustrates where this example fits within the R
integration points of Cytel products, accompanied by a flowchart
outlining the general steps performed by the R code.</p>
<p><img src="2ArmTimeToEventOutcomeAnalysis_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="example-6---analysis-with-subpopulations-using-gmcp">Example 6 - Analysis with Subpopulations (Using gMCP)<a class="anchor" aria-label="anchor" href="#example-6---analysis-with-subpopulations-using-gmcp"></a>
</h2>
<div class="alert alert-primary" role="alert">
<p style="margin-bottom:0">
This example is related to this R file:
<a href="https://github.com/Cytel-Inc/CyneRgy/blob/main/inst/Examples/2ArmTimeToEventOutcomeAnalysis/R/AnalyzeSubpopulation.R" class="external-link alert-link">AnalyzeSubpopulation.R</a>
</p>
</div>
<p>This example illustrates how to customize the analysis when turning
on <code>Stratification</code> and <code>Subpopulations</code> in East
Horizon, while controlling the family-wise Type I error rate using a
graphical multiple comparison procedure (gMCP).</p>
<p>The analysis is based on a single event-driven look schedule defined
for the full population, while treatment effects are evaluated
simultaneously in the full population, and in each subpopulation.</p>
<p><strong>Analysis Overview</strong></p>
<p>At each interim or final analysis, the function:</p>
<ol style="list-style-type: decimal">
<li>Determines the analysis time based on the cumulative number of
events in the full population. Note: Analysis times can instead be based
on a subpopulation by modifying this code accordingly.</li>
<li>Prepares censored survival data up to this analysis time.</li>
<li>Identifies the full population and each predefined subpopulation
using logical filters derived from baseline covariates.</li>
<li>For each population:
<ul>
<li>Selects the applicable stratification factors</li>
<li>Computes a stratified log-rank test statistic</li>
<li>Fits a stratified Cox model to estimate the hazard ratio</li>
</ul>
</li>
<li>Collects population-specific test statistics and applies the
graphical MCP to determine which null hypotheses can be rejected.</li>
<li>Maps MCP rejection flags to East Horizon decision codes.</li>
</ol>
<p>The subpopulation parameters defined in East Horizon are used
(<code>DesignParam$NumSubPops</code>,
<code>DesignParam$SubpopName</code>, <code>DesignParam$SubPops</code>,
<code>DesignParam$TransitionMatrix</code>).</p>
<p><strong>Multiple Testing Control</strong></p>
<p>The graphical multiple comparison procedure is implemented using the
<code>gMCPLite</code> package. For each population, raw p-values are
computed from the standardized test statistics. Alpha is allocated
across hypotheses according to prespecified weights and propagated
across populations via a transition matrix, allowing flexible testing
strategies such as hierarchical or parallel testing across
populations.</p>
<p>Finally, the Z-statistic is compared against the efficacy boundary
provided by East Horizon. At interim looks, crossing the boundary
results in an early efficacy decision, while at the final look a lack of
boundary crossing results in a futility decision.</p>
<p>The figure below illustrates where this example fits within the R
integration points of Cytel products, accompanied by a flowchart
outlining the general steps performed by the R code.</p>
<p><img src="2ArmTimeToEventOutcomeAnalysis_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by J. Kyle Wathen, Valeria A. G. Mazzanti, Gabriel Potvin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
